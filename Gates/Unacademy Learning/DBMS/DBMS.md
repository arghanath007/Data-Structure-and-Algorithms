# DBMS

# Course Structure

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/95355a84-08d3-4fff-a0df-23799807aac2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9b389e5e-710f-4dcf-8de8-c19950d3dda3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5451e501-452f-465a-b056-67a3d211d41d)

# PYQ

* Part- 1 -> https://unacademy.com/class/sql-pyq-discussion-part-1/FIVDGXH3
* Part- 2 -> https://unacademy.com/class/sql-pyq-discussion-part-2/USA9WKOY
* Part- 3 -> https://unacademy.com/class/sql-pyq-discussion-part-3/9IHKNZVM
* Part- 4 -> https://unacademy.com/class/sql-pyq-discussion-part-4/EAQ4FZLP
* Part- 5 -> https://unacademy.com/class/sql-rdbms-pyq-discussion/HX1N8R7P
* Part- 6 -> https://unacademy.com/class/rdbms-pyq-discussion-part-3/NA5SHPWS
* Part- 7 -> https://unacademy.com/class/relational-algebra-pyq-discussion-part-1/AFHZQ2C9

# SQL Link

* Link -> https://www.w3schools.com/sql/trysql.asp?filename=trysql_asc
* Better one -> https://sqliteonline.com/

# Course Link

* Link -> https://unacademy.com/course/complete-course-on-database-management-system-247/OBHXIW40

## Introduction to dbms (1) [23rd June 2023]

## Data

* Anything which is special we want to remember.
* Data is needed.

## Database

> The **collection of data**, usually referred to as the database, contains information relevant to an enterprise.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/351ff58b-c0c5-44a6-924e-838eaefd6467)

## DBMS 

* Software tool
* Database + collection of programs to access Database.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/79ab2595-c054-4abe-9285-e167a72e1939)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf9ff8e6-72ad-4bc4-94e4-2c7cbd92bc0c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/721e7443-450d-40ce-8643-40c3b8bd713f)

* If there is a **database** then the data is **very well organized**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e5bcef80-e111-4dbd-9617-e8274659e73e)

* YES.
* We don't want the database to go away after we shut down the computer.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/949b2e32-868e-41c7-80de-d0e87d19c2a3)

> A database-management system(DBMS) is a collection of interrelated data and a set of programs to access those data.

### Gola of DBMS

1) Providing a way to store and retrieve database information that is both convenient and efficient
2) Ensuring the safety of the information.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4d7c3602-6181-429f-a37e-0343f9e410a8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/20996412-2e4e-48da-bcb2-cbe2eceec6bb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/151b1be3-9729-4b3f-8d9e-9d2d4261dc8a)

* Reservation System
* Banking
* E-commerce websites

## Why DBMS?

* Before DBMS, data were stored in files.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6effadd5-0cc0-44fe-91c8-cdd7be255333)

* Disadvantage of file system:-

1) Data Redundacy and consistency -> No linking between the same data on two files.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3ba0d51b-a3e9-4376-acbb-4971cb7c61d7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/df21d4e3-ee43-425a-8802-31f908797f7f)

* Yes.

2) Difficulty in accessing data

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/87d5f0e4-c12c-436f-877f-14e2cc90916b)

3) Data Isolation

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dadf4ea6-8b3b-484e-9860-09c11015ec99)

* Different formats of files are there and then accessing the data from the different files becomes difficult.

4) Integrity problem

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/130adcc1-8292-444a-98fa-c7f08ab12550)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/39ed1fc5-6018-4d9f-a4a7-07dd4b9e24b1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/74a992ff-2fc1-4a67-be5e-4e15fb8193aa)

5) Atomicity Problem

* **Atomic operation** -> All or none

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8cba9a14-9446-441d-8638-b6c783c55e2d)

6) Cocurrent-Access Anomalies

* Anomalies -> Problem.
 
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f7cbcc12-6aff-4130-a427-6ae276c6fa83)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/65d661aa-6d89-4b52-ad6e-ca91b2c618e6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e7381066-6a6f-47af-b401-7d186d35b8c5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69bbe41c-ff0d-410d-9072-acddeddde203)

* Yes. Mutual Exclusion(ME) is there.

7) Security Problem

* In Files system -> Files are not secured.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/082502f3-67c1-44e7-b27c-18c138c13d9e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf8717dd-85a6-4267-a7dd-0a48ba9d6984)

## How Database or Data is stored?

* Database -> Collection of Tables.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1866ccaf-154c-40e4-88c4-59a78a7fbff4)

* Logical Level

## View of Data

1) **Physical Level** -> When the DBMS will store the database, where ever the database is stored is called as the **physical level**. The level where the database is actually stored in the disk.

2) **Logical Level** -> All of the tables, the details of the tables, the details of the items stored in the tables. Everything in front of my eyes. 

3) **View Level** -> The way it is filtered to be seen by the users on the website. Seen by the users. Part of **logical level**.

* How will see logical level?

> Not the **user**. The creator/maker of the database.

> Everything will be stored in the disk, but we don't know where it is **stored**. The tool(DBMS) only knows where the database is stored in the disk/memory.

* From the logical level can be see the physical level info?

> **NO**. In-between there is the DBMS tool.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0bf2ab57-b9de-4823-bab7-22f96c0cf84b)

* Physical level is hidden from the **logical level**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/02d36d85-cf1f-4d9c-b476-19df3ac1e583)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d0e3ec59-8c86-4003-8422-589ac84d6999)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82f35c0c-1891-4e58-8a94-286394a7cb98)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c27128b9-8244-4c61-b55d-95d7ea332c43)

* Yes.
* From **view level**, **logical level** is **hidden**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fe998986-9d51-4436-828f-90461de11ce4)

* Yes.

## DBMS designing and er modeling (2) [24th June 2023]

* Commit -> To make the changes permanent we use **commit**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32b5fa4d-0950-4948-8551-3fbf6e293a5d)

* Rollback -> Revert back all of the changes and go back to the last state where the DB was saved/commited(before the changes were made).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a3d36d7-2c0f-4051-b638-7262090e7faa)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4cc69bd5-9927-49fe-bb5a-8148b5f9a075)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6a8dd874-80fc-42d1-9a73-f71ca11fa60f)

* Rollback.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/20893ac0-d9bb-49e1-9dd1-2d0513750c63)

* Different

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bc415e8f-1885-4f6c-bbab-f01082df78dd)

* No.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/899b85c6-8216-4d86-bfd3-70feb84ee503)

* Atomicity happens on a complete transaction.

* We have created a file and we have not saved the file ourselves and there is no auto-save option as well. We have closed that file. What will happen?

> All the data is gone. This is called as **atomicity**.

*  Atomicity -> **Full commit** if we **saved** the file otherwise the data in the file is lost(zero(0)). It is fully **automatic**, we didn't do anything.

> We created a text file and one day's work is done. We have created a different copy of that file. Next day we created another copy of the file and started making changes on that file. We have saved all of the changes as well but we don't like the changes. We will take the previous copy as the original copy and delete the modified one.

> This is called as **rollback**. It has happened because of our decisions. 

* Atomicity -> Automatic rollback to the previous value, done by the DBMS tool.

> When the transactions stops in the **middle**, fails. It is called as **Atomicity**.

* Rollback -> We can rollback to a previous state when we wish like it until a commit is done.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/40a6f59e-0436-4ec2-a611-2895ce00bd98)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f111e81e-7af3-4bb2-b102-42930dd299e4)

* Yes

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9f206c37-01fd-4029-9212-2ec4df0aff9d)

* Yes

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/77300cf5-5b04-4ee5-8616-10e62556bd62)

* Rollback -> The DB changes can be reverted to previously saved state.
* NULL -> It is a representation of no any value present.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bb604e58-e69e-4647-8c21-ac0e65ecb854)

## Database Languages

1) Data-Definition Language(DDL) -> If we want to work on the design of the tables, the statements which we have to write for that, they will come in **Data-Definition Language(DDL)**

* **Working on DB design**.
* Creating, deletion tables, updating columns, name, deleting columns, adding new column

2) Data-Manipulation Langugae(DML) -> If we work on the data of the table, the data within the table, they come under **DML**.

* **Working on data**.
* Insert, update data, delete data, fetching data.

* If we are working on **data** then it is **DML**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/45f4480d-77e0-484b-833b-05b53e7a8602)

* Working on the design of the table. So it is **DDL**.
* Making the table's design is **DDL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/93fdbac2-177e-4df7-92c2-1d6cd186eae8)

* We want student's info whose **Rno** is greater than **10**?

> It is done using **DML**.

* Insertion of rows, deletion of rows, deleting data, fetching data -> Working on data -> **DML**.
* Table's name, column names, no. of columns, add new column, delete a column, delete whole table -> Working on table's design -> **DDL**

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/484898cc-d0a9-4aad-b452-f103e1149d32)

* YES.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/932ffcfc-fc00-4b8e-ac62-ad2ad6c77d84)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a7d8568d-392b-4e7b-9a97-44b98c915c21)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/922677b2-720a-45b9-aa25-1b584195e5fe)

1) Procedural DMLs
2) Non-procedurals(Declarative) DMLs -> SQL

* SQL is **Non-Procedural** language.

## Database users and admins

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7520baf0-a81b-42a3-b442-100a0f8414e9)

1) Naive Users -> No idea that DB is there ->  Normal people
2) Appliocation programmers -> Writing Application -> Developing softwares.
3) Sophisticated users -> Use/write query to access DB.
4) Specialized users -> Developes query language or DBMS tool.
5) Database Administrator -> DBA -> Any DBMS highest level person which manages database. Databae's admin.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f4aa4981-18ef-43d5-ac08-d686bb81c336)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c0f0e61f-5f23-4a96-9f85-973379b234c2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/db5d8ad3-bcf8-4ffc-b8e1-a166de73c6a4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c5082bf0-ea7a-44c1-aa61-b7713cd4bdc5)

## Data Model

* When we store the data in the **database**, the data is represented in which format. That is Data Model.
* How do you reperesent the data when we create the **database**?

> That is Data Model.

1) ER modelling -> Entity-Relationship Model
2) Relational Model 

## The Entity-Relationship Model

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b384b173-ff55-476c-a00e-5abf920a9b60)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/06bb16de-5b7e-4c92-883f-417350a5abbd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/60ddf86c-461a-4cb7-a049-42d67b393aff)

* Entity -> Just one teacher's information
* Entity set -> Will become the table later on.

## Relational Model

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f45eb35e-9ccd-4244-b36d-1552eaba7b5b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2be9c48a-217f-44cc-aff1-a44978d3d7aa)

* DB based on relational model -> **RDBMS**
* ER Modelling is the basic way to start database design. ER Modelling is the first step to database design even if the database is for **Relational Model**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2718836b-2f34-4942-ab3f-a7023b6854ac)

## Database Design

1) Requirement Analysis
2) Conceptual Database Design -> ER- modeling
3) Schema Refinement -> ER to relational and refinement
4) Logical Database Design -> Use DB tool and make DB
5) Physical Database Design -> Decisions related to physical level of DB (Example -> Indexing)
6) Security Design -> Related to security.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/088f8770-8e1c-40ec-be25-12245a984d26)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72582021-49e1-4622-98c7-6e9e6c9cca0b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0d3d047b-725f-4b49-b747-0d78444efe70)

## Er modeling part-II (3) [24th June 2023]

## Entity

* Object in the real world that is distinguishable from another object.

## Entity Set

* A **collection** of similar entities is called as entity set.

* 1 Teacher -> Entity
* Collection of all teachers -> Entity-set

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d12417e0-ada2-4419-8cac-0359d2cf8e84)

* An Entity set has multiple different entities.

## Attribute

* An **entity** is described using a set of attributes.
* To **describe** students/student(entity).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/013f8ada-445c-4624-8ca8-864492211864)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34587d37-622d-4dba-aff3-cd095098456a)

* Kind of yes.
* Every **entity** will have it's **attributes**. Ultimately the **attributes** will become **attributes** of the **entity set** as well.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9a027654-640d-432d-8c00-b3b9ff716792)


## Domain

* A unique set of values permitted for an attribute.
* The **permitted values** which can come to the **attribute** are called as **domains**.

## Relationship

* An association among two or more entities.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91c92e24-6905-4a21-ad45-09c81b71b779)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/306b86c1-0dcb-49e3-ae8b-6ae7f3b60611)

## Relationship set

* A set of similar relationships.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/558234e5-0e78-490f-a708-ad7064a5a8ea)

## Key 

* An attribute or set of attributes whose values can uniquely identify an entity in a set.
* More than **one attribute** can come into a **key**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/37c22372-76c0-4415-bd8c-7abb91ede666)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/552dd74a-69d3-4e28-b4f5-59123d66d487)

* Name + fathername -> The combination is called as a **key**.

## Prime Attribute/Key attribute

* All attributes which are part of key.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/12e70815-fe5d-418f-9028-3906e65eb965)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/acacafeb-a834-4f5a-8e28-9c4d155a635e)

* Rno, name, fathername -> **Prime Attribute**

* Is it compulsory that every entity set have keys?

> **No**. If needed then we will make it, not compulsory.

## ER diagram representation shapes

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cac79fff-d255-48b6-85ac-e6e5917e3450)

1) Entity Set -> Square
2) Relationship set -> Diamond
3) Attributes -> Circle.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/49c3e020-85df-4051-956e-848c25c6b32a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/43e2acab-546b-4f82-a4e1-a69df97ae80c)

* Entity Set diagram.
* Entity Set -> Educator
* Attributes -> Eid, Ename, Edob, Esalary
* The Entity Set, Educator can have many educators. We don't know how many it has.

## Types of relationships

1) Unary -> Entities of only **one** entity set are involded in relationships. 
2) Binary -> Entities of only **two** entity set are involded in relationships. 
3) Ternary -> Entities of only **three** entity set are involded in relationships. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/afae91b5-3b50-4054-b82a-674bc89695f2)

## Unary relationship

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f845a844-480e-41e4-88bd-f2d91b9f2ade)

* Professor reports to other professor.
* Relationship -> reports
* Senior
* Sub-ordinate professor reports to which professor?

> **Senior professor**.

> Professor is connected to another professor in some relationship but the professor information is written in one table only.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c1638b45-2f00-4b51-aed3-679a53519a85)

* One entity set and it creates **relationship** among the entities.

## Binary relationship

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b63c1a8a-5145-44f4-a660-a0d17c5716e3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/98236e67-cd2b-4eab-9077-69eb8680fc14)

* Educators teaches courses.
* Many educators are teaching many different courses.
* Teaches -> Relationship set.
* Educator set's entities are participating in the **teaches** relationships with courses.
* Which educator teaches which courses.
* **Direction** is not needed, we can understand directly.
* Some attributes are there that come after a relationship is formed. They are called as **relationship set attributes**.

* A educator is teaching a course, from which time the educator is teaching the course.
* The information is **since**.
* The information/attribute of **since** is only valid when the relationship, **Educator teachers a course**, is **made/shown**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a01488e5-b673-4709-8592-8c9af69b6ff7)

* Vishvadeep sir teaches **COA** since two thousand 11(2011).
* Vishvadeep sir teaches **C-programming** since two thousand 7(2007).
* The **since** attribute has come into **existance**, **when the relationship**, **Educator teachers a course**, is **made**.
* Any attribute which is a part of the **relationship set attribute** then they are called as **descriptive attribute**.

### Descriptive Attribut

* Attribute of relationship
* **Since** in above relationship **example**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/22b5fc4f-12a6-4591-97f2-59a9d35479bd)

* There is no existance of **since** until the relationship between the **educator teaches courses**, shows.
* If relationship is there then only **since** will come otherwise not.

## Ternary Relationship

* Relationship Set -> Teaches
* 3 Entity sets are involved.
* Vishvadeep teaches COA in CSE department.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/85b2a187-93e3-4756-bd32-04898afdec63)

* Vishvadeep teaches COA in ESE department since 2016.
* Vishvadeep teaches COA in Electrical department since 2018.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/abd97474-4f14-414c-bb24-4f0c7c77e691)

* If **three** entity sets are involved then it is a **ternary relationship**.
* We can use **descriptive attributes** in **uninary relationship** as well.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e0b11b39-8fad-40a9-befb-abc62f5491d7)

* **Uninary relationship**

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ab821cf-f40e-4ce9-8e6a-19b10dcf70f3)

* If we don't put **since** then we will not know from what time that educator is teaching that course.
* We want to store some information but we don't know if it will be educator's info or the courses's info. The information is there because of the **relationship**.

* Usually we read the ER diagram from **left to right** only.

## Mapping cardinality

* If two entity sets are in **relationship** then how many entities from the two entity sets are forming/showing one **relationship**.

1) One to One
2) One to Many
3) Many to One
4) Many to Many

## One-To-One

* One **cititzen** can **have** only one **driving license**.
* One **driving license** can **have** only one **cititzen**.
* Citizen having driving-license.
* One To One relationship.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/11a261ab-1ce0-4ac4-a118-af963dce5a47)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8dec328c-fd4e-4098-9989-ec5bcd2bdd6c)

* It is not necessary that all of the entities will participate in the **relationship**.

## One-To-Many

* One entity of **employee** can have **relationships** with **multiple entities** of **teams**. 
* One employee can manage one team.
* One emplyee can manage **more than one team**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/df0a106b-c771-4eea-861d-2527c6b045da)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a9a50bc-b1dd-41bf-9a55-2ab24ce969bc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2b89433c-ee2e-4b88-a1bc-0fc42db7d6ad)

* If one entity in the relationship is showing relationship of more than one on the right side then it is **One to Many** relationship.

* Towards the **one** side put an **arrow**. The other side is the **many**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/455264b6-24c4-42fb-913b-da8bdaf441b3)

* Another way to represent **One to Many**.

## Many-To-one

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ff107233-f5a1-4df9-a14a-20d8e60a5002)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/79367e1a-9d6e-40b7-a23c-d0beba8c97c0)

* Mirror/opposite of **One to Many**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69375a9d-27a2-4c07-b24f-7dd4595c07c1)

* No.

## Many to Many

* Multiple educator can teach one course
* One educator can teach multiple courses.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0d5c9fc7-fe9a-46e7-a781-56bf141bf82d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1fca2c30-c5c9-48c0-8db3-1e6d4652dcec)

* No.
* It is not necessary to show the **entity** but we will show the **entity set's relationship** that's it.

## Participation Constraints

* Specifies the presence of an entity when it is related to another entity in a relationship type.

1) Total participation -> All entities of an entity set are particiating in a relationship
2) Partial participation -> Not all entities are participating.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e31113b5-2d87-4a74-b635-62de8b358da0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9a97bff3-328d-46aa-84c8-7dbab6e01449)

* Customer's particiation will be **partial** here.
* Credit card's particiation will be **total** here.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2b7fb5d8-d8f2-4be0-988a-a8186ca389ae)

* Where there is **total particiation**, we will put **double lines** on that side. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fbb14f66-0032-4c01-ad3e-625146227c06)

* Example.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4803a7bd-9e6c-4f79-ae2e-55e5f48e326c)

* **Departments** participation will be **total particiation** as every department must have a manager.
* **Educator's** participation will be **partial particiation** as every educator will not manage a department, not necessarily.

## Questions

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/541e6947-2a17-423e-885d-bf214bde6813)

* Question
* Option C.
* **Rent payment** is not soly on **Person** because it is dependent on what room the person has booked. It is not solely on the **Hotel room** as well because the **rent price** of the **hotel rooms** chance from person to person.
* So, **Rent payment** is an **description attribute** which is possible because of the **relationship** between the **Hotel room and Person**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/807cedbf-88c6-4f80-8594-5db0489d906d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9fa2d5e5-a5f0-4b7d-82da-bf81eac2705d)

* Question.
* Option **A**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c66f9be5-2417-4597-9f6c-989553bd7935)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5ea309ca-776d-4f27-992b-0a9cd1f1d889)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8fb099db-b0fd-48d7-bea9-db2f14c0a8de)

* Drawing the **set diagram** will make the questions easier to solve.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2101be5b-6bb1-4a8e-a242-f14cda4d9086)

* AND more than one also there.

## Weak or Strong Entity

* A weak entity is an entity that cannot be uniquely identified by it's attributes alone.
* A weak entity set does not have **key**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bef6d83a-0c01-48b2-9933-1013b47f919b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dcc2517a-b8ce-4abb-8e85-96007edb9c57)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73948681-bbe6-4131-b24d-d7a6c60f6a6c)

* Weak entity set is marked with **double rectangular box** around it.
* Every **dependent** doesn't need to be given a **new ID**. It doesn't have it's own **ID**.
* Two weak entity set cannot make a **relationship**.
* One is a strong entity set and one is a weak entity set then the **relationship** is **weak**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9e088de0-0ac4-4fa8-a788-c8c8e62c7a1e)

* **Weak relationship** -> Double Diamonds box.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be8e254f-10b4-4eff-a2be-911589c1681c)

* True.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c6cfa3aa-e3c3-4ce6-9659-59c41539efaa)

* One Singer can sing many songs.
* In one song many singers possible
* So, **Many to Many** relationship.
* Songs has **total participation**, as songs cannot be created without singers.
* Singer has **total participation**, as singer has sung songs that's why he is a singer.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e99b99d6-1990-4f96-8f01-45ab1af318f3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8cd0eb5c-259e-4aae-9bb9-22ab930ec04c)

* One customer can buy many products
* One product can be bought by many customers
* That's why **many to many**.
* Not necessary that all customers buys products, that's why **partial participation** in **customers** entity set.
* Not necessary that all products are bought by customers, that's why **partial participation** in **products** entity set.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/214e3990-7572-42ed-b040-2ab58fcbb361)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ddc281a1-41e7-474a-bfa5-99189e94f88d)

* Yes.

* One children can go to many schools, different times(Secondary from one school, higher secondary from another school)
* One School can have many children.
* So, **many to many** relationship.
* Not necessary that all children go to school, that's why **partial participation** in **children** entity set.
* It is necessary that all schools have children, that's why **total participation** in **school** entity set. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9c5aa40a-6112-4686-a507-6529a227ed88)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c2f9ae8d-3e07-4f9c-9682-589c0dec027d)

* Examples.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3fd7637a-e534-4e2a-a92b-1356d4adf351)

## Doubt clearing session relational modeling (4) [25th June 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2e6a7437-bd47-4032-86b2-481930f59eda)

* Total and partial participation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/592c54ca-b7df-4618-aaf5-58cbc8a05a42)

* Strong and weak entity set.
* Weak entity set participation in a **relationship** will always be **total participation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a0f2402d-d31b-48cf-9ff5-bed017c1869a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/85e1499f-c2f2-4752-9726-0908aee22b4a)

* Yes.

## Weak or Strong Entity

* Dominant Entity -> Entity of strong entity set
* Subordinate Entity -> Entity of weak entity set.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ffbd310a-a91c-43fd-8086-edc04b3c23ec)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a455248-cb71-4fc6-b92a-33c1c7d96ce1)

* If one **entity** of **Employee enity set** which is **strong entity set** then it is called as **Dominant Entity**.
* If one **entity** of **dependents enity set** which is **weak entity set** then it is called as **Subordinate Entity**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/af7fa60b-aa85-4c9b-b96a-fb7663918ea5)

* Both the **Dominant and Subordinate** terms will come into **existance** when we are talking about the **above relationship** of **Employee and dependents** which is a relationship between a **strong entity set(Employee) and weak entity set(dependents).

* If we take one **entity** and not the whole set from the **strong entity set(Employee)** then it is called as **Dominant entity**.
* If we take one **entity** and not the whole set from the **weak entity set(Dependets)** then it is called as **subordinate entity**.

## Types of Attributes

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e69b49c3-fb94-42a6-9993-a88026038068)

### Single VS multivalued attribute

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e78e3c79-980c-4aac-ad81-a969d9b528d0)

* More than **1** possible.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c9800957-2c23-41f0-8d8a-50c9aeb6c8ec)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/06b6fb20-2bb1-4255-8306-9c45ce15c247)

* Single Valued -> Single value possible for each entity(Rno, name, dob).
* Multi valued -> Multiple values possible for on entity(Phone no).

* To draw **Multi valued**, we need to put **double circle/ellipse** around the value in ER diagram.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aa284105-aca8-4ed4-96f0-e31f2e341818)

## Simple VS Composite/Compound attribute

* Attributes we have that can be decomposed into more attributes then those attributes are called as **composite attributes**.
* Simple -> Single attribute cannot be decomposed into further attributes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ea6a73a8-cfb5-4c43-91bd-c214c7ddf33f)

* Simple -> Cannot be decomposed
* Composite/Compound -> Can be decomposed into other attributes(fullname).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ce23930e-36de-472c-9a15-25c530a1dbe3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0c42a89e-23c4-482c-8f35-ae59e51d5429)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82f9b1a9-64a8-4b25-9781-080109c2388a)

* We have **4** attributes here, **Rno, fullname, dob, address**.
* **fullanme** is a **composite attribute** of **firstname, middlename, last name**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d72bc182-9a41-4f40-b9d3-3f9ff24bb076)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/88e0f6bf-1b3f-4402-be5d-5ad7236975f7)

## Given VS Derived attributes

* Given -> Given in entity set
* Derived -> Derived from other attributes(age) -> Dotted lines.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d2a6a25f-6f7b-4710-a7fc-676fb67df251)

* **Age** can be derived from **dob**.
* **Age** is not a direct part of the database. We are showing that **age** can be derived from different attributes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a1fb2cd-9fd6-4012-915f-b8762eb74a03)

## Prime VS Non-prime attributes

* Prime -> Part of key
* Non-prime -> Not part of key.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76e95124-54c4-4cb3-8a01-36aadd939b67)

* To represent **prime attributes**, we will put an **underline** under the **prime attributes**. We have not said that theya are **keys**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/78326356-f31d-4fb9-b849-d01854b4f68d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aefee754-8c28-4bf8-b391-dc67b76c035e)

* Rollno -> Prime attribute
* fullname -> Composite attribute
* Phoneno -> Multivalue attribute
* dob -> Normal attribute
* Age -> Derived attribute

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/893c4836-54f3-42ff-850c-e0edcd19dd5e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d42dae6c-454c-4a52-96ed-0d5239b6d18d)

* No.

## Entended ER features

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c5cfc8eb-82ac-4f5d-850a-14cbcb8bd21a)

1) Specialization -> Specializing the information of an entity set.
2) Generalization
3) Higher and lower level entity sets
4) Attribute inheritance
5) Aggregation

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ccfdc497-89aa-4fed-8fd2-735315a1b54b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7cb0ee16-158e-4e1b-b3cd-194cdc9a7bf0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b9ce0269-1641-45d1-81d3-36a55bd5b7fc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/92e16d2a-8369-428b-a65d-bad65ac32bfd)

* Vehicle is a **2-wheeler** and **4-wheeler** -> **Specialization**
* **2-wheeler** and **4-wheeler** are **vehicles** only -> **Generalization**.
* In one **entity set**, we are specializing two different **special categories**.
* When we are going towards **specilization**, we have to make the **special categories** when the **specialized entity sets** have some **special attributes**. 
* If there is no **special attributes** for the **specialized entity sets** then there is no point in creating the **special categories**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32751aad-ec36-4ed6-952e-ad33af9a5e14)

* Top to bottom is **specialization**
* Bottom to Top is **generalization**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3a0370f8-8ea8-4dfd-8ec0-0386c3620d8b)

1) Disjoint set -> Any entity is **mutual exclusively** going to either one of the **specialized entity sets**.

* One entity of higher-level entity set(**Vehicle**) is present in only one lower-level entity set(**2-wheeler** and **4-wheeler**).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0760679d-dac6-43d9-95ac-61caf3fb1427)

* Vehicle will be either **2-wheeler** or **4-wheeler**.

2) Overlapping -> Present in more than one.

* One entity of higher-level entity(Musician) set can be present in more than one lower-level entity sets(**singler** and **guitarist**).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/92d318d9-3926-411d-a1ea-c6df6d1379e0)

* Musician can be **singler** and **guitarist** as well.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1e40012d-a6e2-4fda-8e03-1ad74cae8229)

* **Total Generalization or specialization** -> Each higher-level entity must belong to a lower-level entity set.
* **Partial Generalization or specialization** -> Some higher-level entity may not belong to any lower-level entity set.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7fe7fa46-be30-425e-8694-02921c481446)

## Attribute Inheritance

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0dc427c9-efbe-4ced-a3eb-64669335a48c)

* Employee entity set -> 4 attributes -> Name, street, city, salary
* Customer entity set -> 4 attributes -> name, street, city, credit_rating.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/befa2fad-8320-427c-bf72-20cda94b4178)

* No.
* Inheritance is **top to bottom** only.

## Aggregation

* Relationships is shown betweeen **entity sets**.
* Relationships-set participating in relationship then aggregation is used.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7cbab4bd-b2d8-4af2-8d47-c4f9f7709cc5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5c94919a-f0b6-492d-bf0e-2194e0791b8b)

* Example

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/25684711-a3de-41a9-83b5-d70ff8414bd7)

* Wrong way.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19a01fbf-c886-48e8-b4d2-522e9ea16c33)

* Correct way.

* The manager is not **managing** individual job, employee or branch. **Manager** manages the already exisiting relationship.
* We want to show a relationship of a relationship with a different entity set is called as **Aggregation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/522c5427-e2eb-41e2-a6a0-42fdb18837a8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/53640606-1fdd-4d96-ab4e-78105e2c79e9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f6248ade-35ae-4c0b-add7-a64157131634)

## Keys and sql part-I (5) [25th June 2023]

## Relational Model

* The relational model uses a collection of tables to represent both data and the relationships among those data.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a81b0cc-1bef-45fd-b2d0-1c95473e8147)

## Relation

* The main construct for representing data in the relational model is a relation, which is table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e4c17a66-ab36-4b04-a13b-218838a91404)

* Relation -> Table.
* There is a relation **Student** which means that there is a **student** table.

## Attribute/Column/Filed

* Attributes are used to describe relations
* Columns of relations are attributes.
* Table Name -> Relation(student)
* Columns -> Attributes(Rno, name)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2fe7a188-91ac-484f-87e0-dd5dc6991ae8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/727f7969-b1cb-4b0a-99d2-e963a36ebda8)

* Row
* 4 rows, so we have **4 tuples/records** within the relation.

## Tuple/Record

* A row in a relation.
* A row inside the table is called as **tuple**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a886321d-58d8-4bb8-8710-94d905011fbf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/10cf6673-59ba-4309-bb67-7302acaca560)

## Relation example

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6b620ac3-a053-4be1-9641-b7c55b8bcaea)

* We have **7 rows**, so there are **7 tuples**.

## Degree or Arity

* Number of attributes in relation.
* Column -> Degree or Arity

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8002975d-0e0d-49f5-bbc6-47851b726a97)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a25c9c8-9699-4dda-b874-a5780bec51be)

* What is the **degree/arity** of the relation?

> **3** as we have **3 columns** here.

## Cardinality

* No. of tuples in a relation.
* No. of rows or records.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/de87732e-f717-4a31-807a-35c34fe6f305)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5fc8e098-1e8c-4ee5-a9c9-31f5e60e58b3)

* What is the **cardinality** of the relation?

> **7** as we have **7** rows.

## Database Schema

* Tool used.
* Logical Design of database.
* Table is not called as the schema.
* All of the **constraints** that we have put and all of the database construct used to construct the database. All of them combined is called as the **Database Schema**.

 ![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32c5cc5e-7f6f-40da-b715-26e5d51c9af3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5b7c2f57-1882-4cfe-b1fe-d42a4325de72)

## Database Instance

* Snapshot of the data in the datbase at a given instant in time.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ddd10f06-0754-48bd-9aa9-5d3660a5d697)

* Snapshot of Database.
* It will change.

## Domain

* It is not a **constraint**.
* Domain means when some values comes **what type of value(int, varchar, char)** it will be. Kind of datatype.
* A unique set of values permitted for an attribute.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/11bea98f-4fb8-488e-9f0d-2238f318673a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6deb0574-6bd0-4c49-8a3e-28c079fc9017)

* Exactly

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1fa28fa0-7205-412a-9d58-8c5e43f8b304)

* Difference between **Domain** and **constraint**:-

* Domain -> What is the datatype of the value.
* Constraint -> Even if the datatype of the value is correct, then also the value is **rejected/not allowed**.

## Domain constraint

* Specifies an important condition that we want each instance of relation to satisfy.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9bf6c53c-2964-4563-afa0-a0ce1243685e)

## Keys

* An attribute or set of attributes whose values can uniquely identify a tuple in a relation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1b68da71-412e-49e1-87ba-706cda29fcad)

* For name **Neha**, we are getting **two rows**.
* **Name** column cannot singly identify all rows. So, **Name** column cannot be the **key** of **student** table.
* Key -> Rno, (name + fathername)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/df210c59-299a-4156-b762-641346580c76)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8d1775b-1b33-41ba-8d6f-936fbb6e450c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8b489278-bef2-488d-857a-ab44cfb6d0f9)

* Yes.

## Types of Keys

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8c27e0f5-8fab-4b3c-802a-1e4ae7eef6f6)

### Super Key

* All possible keys of a relation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1033b8ef-cda7-4394-8f52-7981c9bf41bc)

* All possible keys combination is making super keys.

### Candidate key

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b03db404-fdc7-4793-a74b-50888728956d)

* Minimal super key
* A super key whose prope subset is not key
* Example -> rno, name + fname
* **name + fname** combination because the subset of them is **name and fname** and none of them are **keys** individually. That's why they are **candidate keys**.  

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04231714-a55a-4c3d-a488-7358b3194828)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1918acd1-d5a0-410d-9f99-9006ee28ec5a)

* If **ABC** is a **candidate key** then **A, B, C , AB, AC, BC** are not **keys**.
* **ABCD** is a **super key** but not **candidate key**.

#### Prime Attributes:-

* Attributes of candidate keys.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dddff33d-d35e-4c2a-af17-7d3c8d675c16)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf4f4f35-4600-43bf-8efd-1a4f41baa6e6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f71fa7f1-85ee-4bd8-9fc3-7206d1d8da89)

* Question.
* Total no. of super keys which are not candidate keys?

> **7**, except **ACD**, all of them.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/580a2093-9633-4964-b368-7d0d13ff1b35)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/58b5eb87-31ca-495b-b75a-a4edf3bd7597)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c65f7e14-33d3-45a6-8499-5d6afe5b292e)

* ACDB -> Not a candidate key as **ACD** alone is a key. **ACDB** can be a **super key**, yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6956597d-e749-42f1-9282-e5e98546051d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b7e4f22c-8301-4f54-8fa3-2fc636db8aa9)

* possible.

### Primary Key

* One table has only one **primary key**.
* Chosen candidate key for implementation.
* Example -> rno, name + fname
* Primary Key -> rno

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b4e2bf72-3f17-4fc9-81e9-982a6699f507)

### Alternate key

* All other candidate keys apart from primary key
* Example -> name, fname

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dd63e128-defe-4c53-a21a-165307be986a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dfccd1cc-a670-4771-affc-0007e9d1b3dc)

### Foreign Key

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/24c0f66b-5bdf-490b-8cf2-fbf345473b39)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/744680ed-f871-4b25-8058-84130c2d788e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ea30e54b-1045-4d6f-92a0-1c2f3b3ce254)

> The constraint put on the **Account.Branch_id** column is called as **Referencial Integrity constraint**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fb927970-11e5-45f4-b214-1b024799faaf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f6de4c11-a832-4a15-b0ec-a64c1e527452)

* The value we are referring from should be a **primary key** of that table. **Compulsory**.
* The one who is referring the value is called as **foreign key**.
* Branch table -> Attribute which is **Branch_id** -> Primary Key.
* Account table -> Attribute which is **Branch_id** -> Foreign Key.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d7968e9c-a739-4501-8f5e-329079f44265)

* Ofcourse
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6cde2110-e6d6-47d7-9d89-42241286a098)

* Not necessary but easier to remember if same name given.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e38f589d-f3b8-4ef0-a687-2c04e0c4e87f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/30c0d2f6-d738-4f0a-b701-786cdb01193c)

* Branch table is **parent** table.
* The **FOREIGN KEY** constraint prevents invalid data from being inserted into the foreign key column, because it has to be one of the values contained in the parent table.

### Referencial Integrity constraint

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8340c8cd-4938-416e-b14c-96c401fb472d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a739c618-7145-43e3-9d83-6ed4e94b5fe1)

### Referencial Integrity Example

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3bb0a7f7-dea0-42a0-a411-022e6e4542ea)

* Publisher.PublisherID -> Primary Key.
* Book.PublisherID -> Foreign Key.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/14853a8f-8734-4700-8bb1-6063d454aaa7)

* Foreign Key may not be **unique**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/24e2d6c7-360e-4a85-ba9b-0f5c5976aaef)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a05db006-b8bf-4bdf-bad3-53c34d743ee4)

* Integrity constraint is still maintained.
* Foreign Key can have **NULL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3f89efb3-7e27-4d75-b7ee-c1e44960dd5a)

## Cascading effect

### On update cascade

* It says that foreign key value refers to which ever parent table value, if there is **updation** at tha parent table then at the **foreign key** updation will also happen.
* DBMS will do it **automatically**.
* If parent table value updated then automatically foreign key values are also updated accordingly.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b87dadb2-cf5c-471f-8a21-f9b1e90ab50b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32f8e38e-0df6-4480-9bc1-e75d9ebbca2e)

### On delete cascade

* On delete cascade -> Careful implementation
* On delete No action -> Makes no sense.
* On delete set NULL -> Careful implementation -> Only foreign key set to **NULL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9d701439-6d34-4704-bc65-a6ad0a63b172)

* More cascade options.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/75f8221a-85b9-4bc5-8c7e-b1e58c346e77)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ae7c3ba6-16a7-497c-b1fc-9c27def8c3bb)

* R1.A -> Primary Key
* R2.X -> Primary Key

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6faf59b2-fa69-464c-b161-ae2f1ce8634f)

* Set of attributes.

## SQL part-II (6) [26th June 2023]

## Foreign Key

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3413aa74-193b-4350-87e4-0beb2d5c7ace)

* On Update Cascade -> If we **update** the column **Branch.Bid** and the value of **B4** was updated to **B5** then the  column **Account.Bid** values which had **B4** will be updated to **B5**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/442c9283-e8af-4a89-aaac-6f606794a2bf)

### On Delete

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cab57c81-6141-455f-bf3a-c2530cd29c19)

1) **Cascade** -> If we **delete** the **B3** rows in **Branch.Bid**, then the **B3** values present in **Account.Bid**, their whole/entire **row** entry will also be **deleted**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44cb951b-2504-4f83-bed8-d51290342310)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4c3bb9c6-ace0-4817-b1fc-f7ed85247226)

* Not only the value is deleted, the whole row is **deleted**.

2) **Set NULL** -> If we **delete** the **B1** row from the **Branch.Bid** then the values in **Accound.Bid**, their values will be set/updated to **NULL**. We will have **no value** there.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b796944a-e98d-4eb5-8d9d-ad9649f055ee)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/37fb0613-02b0-4a2b-b6ea-1c63da334604)

> In **Account.Bid**, **NULL** values should be allowed otherwise **On Delete Set NULL** will not work.

3) **No action** -> If we **delete** the **B2** row from the **Branch.Bid** then there will be **no changes** to the values in the **Accound.Bid** column.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a1e21971-001f-4f58-bf03-54c1883e2105)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fb2ceda7-2717-4548-9f05-7707a3fb9c9a)

## SQL

* Structured Query Language
* Domain-specific language used in programming and designed for managing data held in a **RDBMS**.

* Operations in SQL:-
* Inserting data
* Retrieving data
* Updating data
* Deleting data
* and more ....

* How we will access ER diagram data?

> We do not store anything in **ER diagram**, it is just a **representation**. From **ER diagram**, we create a **table**, and we actually store that **table**.

* ER diagram -> Paper thing(Representation).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b09b75e7-7f2a-4fd8-8291-864f1f127fc6)

## SQL Datatypes

* CHAR(size) -> A **fixed** length string.
* VARCHAR(size) -> A **variable** length string.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/96da883f-1eeb-48ad-963b-2bece0a7834b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f1940b9-5710-4968-b8f0-d62ea55de4e2)

* CHAR(10)
* VARCHAR(15)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/613ac500-6b56-46ff-8a82-4a15e4a5c5d4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5e336a8b-355e-4e74-80af-85a12046e769)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ebdeb067-fb44-4175-9e55-31d90944d718)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9305d1c7-c031-4786-b23f-2493a0c31d99)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/21cbe6fc-0dee-4c9e-85b4-67f8c19f877b)

* Integer/Int
* Float
* Varchar
* These **three** are mostly needed. 

## Case Sensitivity

* SQL is not **case sensitive**.
* Only **DB** values are **case sensitive**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bf74382a-91e6-4ebd-8cae-dcfe708fd1dc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aa2db9be-4843-462c-b166-bd295f826224)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/23fdb997-e7bf-4cf4-9230-0365f2014d7b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6731e7e9-f49f-468e-8c67-9c3fa383a803)

* Semicolon Mandatory? -> **NO**.
* Run all queries together then after each query semicolon needed.

## Retrieving Data

### Select Command

* Used to retrieve data from one or more tables.
* **Syntax** -> Select * from tablename;
* '*' means we are selecting everything(data) from the **table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d91cb043-987b-4e3e-981a-c7edc4f3bcd7)

* select * from Customers;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2a5e593b-e070-4109-a585-4ff30622514e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c688a2ea-7da7-4ab2-b4a7-916fc11f8457)

### Selected Column

* **Select** command is used for **column** filtering as well.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/26344a3f-e456-4658-88a1-6a344827d6fc)

* select City from Customers -> All rows of column city.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3ebb0d44-d3d9-4f04-9edb-950470e30052)

### Selecting multiple columns

* select City, Country from Customers

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/235f87b4-7ad6-437d-8eb5-7deb6fbd5229)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9a098fa2-40a0-442b-aba5-bfd71169b593)

* select Country, City, CustomerName  from Customers

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/95ad2701-cab5-429c-bc70-fa706079e7b0)

### Distinct keyword

* Need to be used with select, to fetch only unique values of designated columns(s)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/42294627-48f1-4f01-9a50-d1b9df5f7cb1)

* select  Distinct(CustomerName) from Customers

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b86b4883-82ae-458f-9564-a154010f7571)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b7f911de-2498-45d5-a5a4-2c92554e059c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d210733a-e726-49a7-9553-69a3dfc34d1f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/127770d1-af2d-401d-942c-343bd307df21)

* select distinct columnname from tablename
* slect distinct country from customers

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/727d7235-f82a-4e80-96a9-43be3acf52a5)

### Command with distinct

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a459259d-5189-4591-a551-6b1cbd86a06e)

* select  distinct(Country), PostalCode from Customers

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/21a6f69f-da4d-4fe5-8a49-3fd71371e331)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a296088-02b9-4a77-8cb9-ded7df0a0b29)

* Combination of **Country and Postalcode** are **unique** that are **selected**.
* distinct combinations

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/48cde4c4-373d-4826-b8c5-830bf38325dd)

* If **combination is unique** then it will come.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6392f7d2-9eae-4c77-803d-a458519f1939)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/20436b7e-9ac5-4300-8bc4-925cc36a84f4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27f3a02c-5033-44d3-945c-aae250a7bed3)

* Error, not allowed.
* We cannot write **distinct** in one column and not in the other.
* If we write more than **one column** then **distinct** should be applied to all **columns**, or **none of the columns** should have **distinct**.
* We have to put **distinct** on all of the columns we want to retrieve or none of the columns should have **distinct** keyword.

### Command with distinct

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/68e77f7b-bee5-4656-a58f-28e1d4827b25)

* select distinct itemp from itemmaster;
* **3** distinct values -> 3 rows -> 2, 4 and NULL.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2949f983-72c4-44fa-89ce-39d307ed8080)

* select distinct Rno from itemmaster;
* **4** distinct values -> 4 rows

## Where command

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec32c226-09e8-4e5f-8c89-5dbad2628b3b)

* Used with select, update, delete, insert commands
* Used to filter specific rows from table.
* Syntax -> select columns from tablename where condition;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/883a75cf-9657-4be9-9275-437f4dee783b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/db727dee-5ea4-4d42-a57e-295128caba7e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c2e39c31-f083-4675-9556-832b879ed322)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d89bb0ac-c765-48ee-8658-f82e497446dc)

* select * from customers where country = 'Germany';
* **Germany** is a database value, it is **case sensitive** unlike **SQL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a7e73fb7-f963-425f-85c7-dbaf5402381b)

* This comes under DML.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8a550a0-07a0-4edb-bbb2-80d51edea75e)

* select * from customers where country = 'USA';

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7c19a76f-5d0a-476d-80c4-f2a20b3dc4e1)

* select * from customers where customerid = 3;
* As **3** is **integer** so no need of **quotes**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7c9b4f80-f167-4c6f-8e92-e06feea7d959)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a31845ae-87b5-4ada-8804-f330e5e73efb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c69bbda2-ab9f-4f2d-93cd-1c11ab34f9f2)

* select customername from customers where customerid = 3;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cb830eea-ed41-4e6e-97a0-42719e99dcce)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d9824ee6-05de-437a-882a-c06221339990)

* select city, country from customers where customerid = 3;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69ec605b-2948-4413-8b7e-00449a8c0f4c)

### operators with where

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/380afdaf-bfa9-4a9d-b3e7-42b7233ec34b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2d36fd20-3da7-4895-9d5d-6e8b13344fab)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6e9435a1-665a-4e25-bb01-a94436c3c90f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/98427d11-9456-4c95-963a-701b7ae4d2f6)

* Atleast 10 -> Min of 10 -> >= 10 -> Greater than equal to 10.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7712803b-5a25-43d4-8b60-91192c145c2c)

* select * from orderdetails where quantity >= 10

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8d94a537-709d-4370-a794-128de6184a77)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/77f28021-c724-4d96-8c60-98e8c62e51ec)

*  Greater than 15

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e014c575-7533-4645-94e0-69df4cf589df)

* select * from orderdetails where quantity <= 10

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cdcbaad1-792e-4e21-b51e-ed46940e18f3)

* Less than equal to 10.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6d32e888-a11d-4672-ae36-ae0a411e220e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d8bb91b1-394e-43c6-9d81-b9396c7f5045)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86645205-64bb-435f-8ac9-42ca8d52c819)

* Less than 15

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fdd02cb1-e6fe-4d8e-a639-02f7be414379)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/636465b1-b304-4f3e-8c7b-fd204c46f431)

* Not equals to 10.

 ![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bfda6dd9-9548-4b00-9d11-eab35705384c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0fe0d5e4-0f0b-46a4-b9a7-67ed081ccfce)

* select city,postal from suppliers where country <> 'USA:

## Logical Operators

1) AND -> True when conditiom 1 and condition both are true. 
2) OR -> True when either of the conditions are true.
3) NOT

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f3483701-8fa8-48be-a49c-6a33addb93e9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/90ce5c6a-7fba-48de-bc1c-97d67735637c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2aa23fb4-291d-48c4-ae4c-44084b55e3d0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/349c4682-5a8b-4a11-b852-3b2102ad9828)

* Quantity is atleast **5** and atmost **30**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d1381fb-0221-489a-ad4a-e28f9e798263)

## Between keyword

* Between lowerbound(LB) and upperbound(UB).
* lowerbound(LB) and upperbound(UB) are **inclusive(included)**.
* Used to filter the records in the specific range.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dd5efada-b218-4dc7-8f33-31a4eb39e290)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/428aa3bc-d628-45d2-8b9f-460405ff1b97)

* select * from orderdetails where Quantity between 5 and 30.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/02658f80-c6e2-4c64-91bf-4f78928fdad0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8c49df39-25b7-4c01-9275-63f92224b077)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/007dcd70-6d4c-4823-b824-7896d050505f)

* select * from orderdetails where quantity < 10 or quantity > 20

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33a1cc30-72bd-42ff-aba2-c15064d1c7d0)

* less than 10 or greater than 20.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/36742bc6-9fe1-41cb-a902-6007619cf520)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1924cc0b-1896-452b-86d3-9cc371a553e0)

* Another way

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/900239d5-0fff-4333-8c94-13bd1511e885)

* same
* select * from orderdetails where quantity not between 10 and 20

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eea7a325-801d-4f24-bab6-d07ba1acb791)

## NULL in RDBMS

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6f926665-a75c-4579-b0d9-0aeeda0d9a61)

* Will not work. **NULL** is representation of string and not **nothing**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8df50b7d-6720-45d3-a520-c3833d8f95a2)

* We have to use the **is NULL** keyword here.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7e9e9492-cbb0-4e6d-b16a-789ba96286d0)

* Nothing because here in **=** operator, **NULL** is taken as a value.
* To compare **NULL** values, or to find where **NULL** are there, we have to use **is NULL** keyword.
* select * from itemmaster where itemp is NULL.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e075c017-a2d9-4778-bd9a-cb97e3dd7dd1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6bd42608-8a43-467e-b0da-f73c7a01e262)

* If we want **NOT NULL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d00b4c28-5713-4b86-a4f9-ad490b9d7553)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/94d62414-9b3e-4aa8-9c8d-d2bb5377b5c1)

* Outputs from SQL query.

## sql part-III (7) [26th June 2023]

* In a single table, two columns cannot have exact same name.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d3e90137-a6f0-43c3-8ea0-71fecbebf1ea)

* Access column using **dot(.)**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2181310c-72b1-4215-a825-a4891318e39c)

* select student.name from student;
* select student.name, student.address from student;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b6b52fcb-ddad-4ec8-8a48-5cc63a834a1d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7fd0efc9-9ba0-4016-997e-6c67cd71bed7)

* Why is **where** used?

> For **filtering rows** or **filter** out some rows.

> We are writing the **condition** so that we can **filter** out some rows which we need, to get the **specific rows**.

* **= NULL** -> We are comparing with the string NULL or "NULL".
* We have to write **is NULL** to compare with **NULL**, nothing value.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b954858e-5b56-4c31-a574-cf2e61c1cd0b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/38ffa0f9-30c8-46a7-82a0-a208ae4be6c1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/90759a6a-3485-4605-9cfd-fec7519303bd)

* Is the table possible or not?

> **NO**, the table is not possible.
> As **Xyz** and **XYz** are both same as there is **no case sensitivity**. We also know that **same name columns** are also not possible.

* Column name, table name, keyword are **not case sensitive**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/92310db2-abd4-4ce7-8c25-33491b166f07)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/85803a18-d054-4c9e-82d2-5d3c08f39b46)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e6fd5537-775b-4be7-a368-210e2c32c814)

## Limit

* Used to limit number of fetched records from a huge database table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1ad472c8-4f89-4d36-8168-7b4d3e7ab752)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19328153-6ce8-458a-a429-a9e75c69d4f7)

* select * from customers limit 5;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/160fdf98-b185-4821-be40-4d0e3510a928)

* Fetch **4 records** after starting 5 records
* limit x,y
* leaves starting **x**  no. of records and fetches next **y** records.
* select * from customers limit 5, 4

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ba53f861-cdae-40ac-a0f0-e52620bca1ee)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a29f11da-5420-4e0d-90a9-5b09c04c2401)

* select * from demo limit 8, 12;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec746e8e-ce00-4880-a458-4d14f7dd8332)

* select * from demo limit 5, 10;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0f08ffd5-a142-4990-8e2b-a4e5f62ba2bd)

## Aggregate Functions

* Performs a calculation on multiple values and returns a single value.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/25771cbc-c026-4248-a23e-69811a05b980)

### min()

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a7e6f985-aa8b-4d56-992d-73913227abae)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/12c7a821-33b4-4203-8c19-99aa4a57bf31)

* SELECT min(price) FROM Products;

### max()

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e6134877-8681-4d48-823d-620c973fe6fb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f18ab52c-6b17-4dc1-a4ff-31c12f12dda5)

* SELECT max(price) FROM Products;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3c5561e9-5ec8-430c-a576-3d8646290afc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/79d5aac0-f29b-4706-920a-e8c63960733c)

### sum()

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/97ed8828-fa67-49ce-b167-09e1790e27ee)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/03395c6b-a2e5-49bb-9d22-793837703519)

## avg()

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/94ee2a8f-af17-44ef-b724-94d1981ac203)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1ab3a686-3d02-479e-9924-9f212b3f8473)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/14315cca-4bfb-4463-83d3-a55a7891b626)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a9f70e56-e15f-4e18-9bd1-7d975fdb7f36)

* SELECT min(customername) FROM Customers;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/793ac12a-4a28-4269-b951-e0d604e57a25)

* Arrangement

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed2e525f-ae32-4e7c-bf12-2fa2fc65c9aa)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d8e25f1-ad6a-4e28-b6bf-e7c4127d9530)

* **min() and max()** -> Works both on char data and numbers. For char data it returns the first or last record according to **lexicographic order**.

* **avg() and sum()** -> Will work only on numbers. Returns zero(0) for others.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/98a88697-0f5a-4a60-8d73-38a764aa2b43)

### Count()

* SELECT count(price) from products

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4e649bdd-efb0-4d5b-b62a-6e7aee5cfb62)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72cd5392-b652-41b4-ae7f-9feb66b33148)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/844e830e-837a-49c3-9885-712e8fb6593e)

* Return how many customers are from USA?

> select(customerID) from customers country= 'USA'.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2eb2a7fc-398e-4abe-8535-7bd9aa076411)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c24bca67-2d6f-45cf-8d44-c7908265e62e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d6a192ba-78ba-4296-90b1-6b66c0c2363f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b970ecbb-9ed4-4409-8ad8-292eae527f80)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/23de4729-be9f-498b-b180-0bc9e5c23055)

* Average -> Summation/Count -> (5 + 7 + 7 + 7)/4 -> 26/4 -> 6.5.
* We will not count the **NULL** as there is nothing over there.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b3bab3bf-748e-4994-b891-dfddbe88ce4c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/153b4984-ae12-4646-b112-27ef5f969eb4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f84a40a8-8240-4be7-9dbf-118b3dc00f17)

* Select count(*) from itemmaster

> **8 rows** will come.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a5122d88-747f-4cc9-bdea-dadad74a9ec1)

* Aggregate functions return a **number**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cdd1a52c-22ca-4c53-807f-c049494b81c0)

* count(*) will look at **no. of rows** that's why it will be **8 rows**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e20939b4-45f7-406a-ac04-cb9362c496a3)

* Yes.
* create table itemmaster(item int, itemp int)
* **Creating table**
* insert into itemmaster values(1,2)
* **Inserting values into the table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3c0f6080-56db-4589-922c-4e37cb35a30c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cdb90b81-9f51-4fcc-9a7c-02d8ebe0665d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4c51cfd5-5a0c-4fab-9997-55e5aadf6a58)

* NULL means **nothing**.
* As it is **nothing**, so no need to include it when counting average. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04c98ed6-5ef4-40f1-868e-c0f63fcdd01b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2f3686df-e148-41cd-b486-1e0c6d02677b)

* For sum we will take the score of students who have scores and ignore the **NULL** rows.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a6795585-8d94-4977-9096-7e8b58eb8315)

* Question
* select * from customers where country = 'USA' or country = 'Germany' or country = 'UK'; 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dca618b9-f9d4-4212-9904-ca7197a49a97)

## IN operator

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d15cdab0-4795-46bf-b23c-32c6bb295dba)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/54fc79bd-c71b-45b2-b3aa-ba857bcb16c8)

* select * from customers where country in ('USA', 'Germany', 'UK')
* select * from customers where country in ('USA', 'UK', 'France')

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6c13be76-b610-4304-88f1-1085d62aeb5f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8e7990d7-a27e-4eaa-bd22-ed0997647aeb)

* List of all customers which are not from **Mexico or Sweden**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a7290955-9ef7-4227-a3e4-07cbd6d206c5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fffba6f3-a2f5-4ccc-ac58-441646e96ed2)

* select * from customers where country not in ('Mexico', 'Sweden')
* **Not** is in the **full condition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4bd49890-1acc-4368-b75b-c1e0ca118e52)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/64e7564e-0aac-4de0-a9b0-45d54acf520f)

* Sign change

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34648a95-1a08-414c-b40a-2cb7f7269127)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/87d58641-b957-454f-a3c9-77ad8bc67321)

* select * from customers where country != 'Mexico' and country != 'Sweden';
* select * from demo where name <> 'Created by' AND name <> 'SQL Online' AND name != 'Twitter'
* select * from demo where name != 'Created by' AND name != 'SQL Online' AND name != 'Twitter'
* Different way of writing the above query.
* != -> <>
* Both give same output.
* Link -> https://blog.sqlauthority.com/2013/07/08/sql-difference-between-and-operator-used-for-not-equal-to-operation/

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bf7939b3-3aec-40da-8f02-460afa19e5b8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7a8488b3-32c9-45c4-a4a7-d2d00ebd2846)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3a535a7c-0267-4104-a744-dfba35b323bf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44a0e837-c8bf-46bd-b737-06fd003f09f6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/02d81a72-e6c2-4b4a-a5cc-641bb7443eec)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9e027efe-2e70-4211-9437-a89144618781)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6b3d8459-e431-4f49-a8e7-fc9ca90a5a1b)

* Both give the **same output**.



![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cd7402ab-6a7e-4f52-9292-5b702d2d7d6f)

* Subqueries

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9cc91892-358a-4a29-a842-f6fe70c6d9e8)

## Alias

* Used to give a temporary name toa table, or a column in a table
* No spaces allowed

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d0585fd8-32f5-424c-bb94-a299ea3985a3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/769c0204-8335-4192-a00e-1587b08b6e66)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a0dbc3f3-4d3f-4f82-b01b-7325915cb2ed)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c446d5ee-2326-44a7-976d-12ea454ebeb6)

* Alias should be unique.
* select * from customers as cust
* select * from customers cust

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ddab2b00-9c1a-400b-bad2-e248a027d653)

* select cust.customerid ID from customers cust.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/613db393-bbb6-4e0c-9744-ce395341b813)

* select avg(price) from products
* select avg(price) as Average from products

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/37c3f97e-2ab3-477d-8dd1-84501b5d722a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fc768781-aeb3-4f94-b1a3-c991eeaa07e7)

* If we give **keywords** in **single or double quotes** then they work as aliases.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3b62ae5e-bba2-4048-8e09-1b12a0dc2d81)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cbd8592d-ebfc-443c-a5c4-1a945abc56eb)

* Alias examples, where can we use alias and where we cannot.

## Query Summary

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/24d7cae2-5ccd-4011-badb-d103fd5bcb63)

* from -> where -> select
* Limit runs at the end.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/805ad8b4-08b3-4b91-b851-22f8f9ad7682)

## SQL Joins

* Needed to retrieve records from more than one table collectively.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ea690ee3-e864-4bea-a405-6989d761a81f)

## Types of Join

* Inner join -> As called as **natural join**.
* Left Join
* Right Join
* Full Join
* Self Join
* Cartesian Product

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0e94386-ccdf-40c0-94a0-e212c8720481)

## Cartesian Product

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/49c2eade-104f-4363-afcf-39f6ee88982a)

* Cartesian Product will return the product of each row from one table to all of the other rows in the different table.
* When we do **joins**, how many columns we have?

> Left side table  + right side table combination is the **no. of columns*.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/628f410c-8434-46e0-8465-ae522353b099)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7152caec-7a5e-4ba4-a35f-f87ed3c2dd77)

* It return combination of each row of student table .

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fe40c317-1f63-4071-a408-eb1d86706e3b)

* No. of rows -> 4 * 3 -> 12.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cd14dc8f-af8f-4ae5-b6e2-f268c78b4661)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d926bd79-6582-4c70-93da-522c7f221634)

* Cartesian Product between **customers and employees** table.
* select customers.customername, employees.EmployeeID  from customers, employees 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/335315aa-7913-4165-a675-e54639416e38)

* select customers.customername as CustomerName, employees.EmployeeID  from customers, employees

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c608afb6-9bab-47ea-8fd0-2614b47d4c05)

* Cartesian Product is **costly operation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/41ca0082-6711-4af6-bced-d071258c5eca)

## Doubt clearing session sql queries(8) [28th June 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/684a9c4a-0b52-4993-b780-7292feb29c84)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ade1732b-37b9-4b4d-8d6a-827c2a0e2a35)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1943e8ab-339a-4d55-a1f0-d85edc55237b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5878c6a9-850a-473e-ba0f-3751650b42d9)

* Table design refinement.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/daf935ab-8ba3-4885-af22-f49bf07fc04e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6229d434-03db-45fb-826e-e8205720cdef)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/22adf47c-a1c6-4c72-967f-f6711b49029d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a9fff723-ba8a-4097-b1fb-c938a818825a)

* Independence -> We can store the data anywhere.
* Flexibility
* Data Integrity

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/690b2553-5a28-430b-ba6d-a5bf3b1f0e27)

* Tuples -> Rows.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/250a38c7-7707-4b3e-96b7-c475aa9c20d5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3ea94500-1dd4-43ed-8cef-6fc88bc28fd0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a68627f-b045-4122-9ed3-69098ff2856c)

1) select * from customers where country IN ("Germany', 'Berlin');
2) select customername, address, city, postalcode, country where contactname ='Yang Wang';
3) select * from customers where customerID <= 19;
4) select * from customers where country NOT IN ('Germany, 'UK', "USA');

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0163990e-9232-43b4-8d36-61af8a861bd7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/56284f5b-6bfb-4260-9b84-31e1e33ac8b3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/732c698f-cdf3-446a-9cd4-564c23b82fda)

* We don't know if the table is sorted/ordered using customerID or not, it is bettter to write **customerID <= 19**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e38e4b01-9b50-41b3-9246-c2f1df314979)

* Yes, limit could be wrong there as well.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/55f87089-80ab-43bc-8188-e3b9b399df29)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6c94d946-2322-4fcf-8201-9a7d4161ea5f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8c863fe1-f1c2-4853-b38c-6c33b8ebc157)

* Yes. All rows will come.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/89e3785f-6b9e-49e4-b57d-d0cf0b9a7040)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1ef2446f-bb8d-42b0-b5d2-1ecc5658cc47)

1) select * from products where supplierid IN (1, 2, 3);
2) select productname from products where price between 5 and 25;
3) select supplierid from products where categoryid = 2;
4) select * from products where supplierid =2 and price > 30;
5) select * from products where price > 50 and supplierid != 6;
6) select * from products where price < 30 and supplierid not in (2, 6);

**OR**

select * from products where price < 30 and supplierid != 2 and supplierid != 6;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c5f94ca2-4444-472a-a2cd-3fe50089586b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/02028df2-30a9-4c90-8ad0-d81d8f74dbfb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0213b735-ce40-4a7d-b52e-73e8564e660c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2dae0f30-12b2-4c16-b57a-bc3ac49af27a)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5785d4da-44dd-4884-9b41-9aefb44f3f13)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3955cb5f-b7fa-447b-b25a-082fc8bc2390)

* Cartesian product.

## Inner Join

* We need **one** common column for **inner join** to work.
* Inner Join -> It will give those records that are in the left table and are matching with the column records of the right table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1f6e05ed-78fc-4614-a464-298a78d41440)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/783f9aab-151a-4673-afa1-8aafbb8a5b4d)

* select * from table 1 Inner Join table2 on table1.column = table2.column
* select * from table1, table2 where table1.column = table2.column

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5543eee1-4f03-4459-a940-6164567e57b7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c7cf8ea2-9e97-4686-ac29-13485dfb4b2b)

* select * from student inner join library on student.rno = library.rno
* SELECT * FROM products inner join suppliers on products.supplierid = suppliers.supplierid;
* select * from products, suppliers where suppliers.supplierid = products.supplierid;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eccc9e58-ce13-46cd-b656-d4b13e65671d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/78e9c1a1-cc8b-400b-b12c-8964557e95b6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/169486b3-9ca3-44b1-a1d1-9a0e71e8ecf4)

* Cartesian Product -> Cross Product

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c6cd093e-5a00-4e47-9e43-e3985905b730)

* select * from T1 inner join T2 on T1.A = T2.A

## Left Join/ Left Outer Join

* Left Join/ Left Outer Join -> Entire rows of left table adnd matching rows of right table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/547ddfc3-bf20-44a9-8285-3605addbcce0)

* select * from student left join library on student.rno = library.rno

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a5a6edda-7537-4c84-84a8-7f61a131a63d)

* Result set

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/13f093f7-18ce-4971-a9ca-2720ac052d8d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/75b36336-2c3f-4af7-b840-d701efeff73d)

* Not necessary
* Min. no. of rows in result = no. of rows in left table.

* In the left table we have **4** rows and **3 rows** in the right table. How many max rows we will have after **left outer join**?

> We will have **12** rows max.

> All **4 + 3 -> 7** rows from the two tables are all identical then **4 * 3 -> 12**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4b4ce997-56b6-477f-a31d-3609d39ae92b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/41a04455-141e-43f3-a0fc-7eb6d1edb5f4)

* If all the values are **distinct**?

> The no. of rows will be  -> No. of rows in left table

* Min. no. of rows in result = no. of rows in left table

* It is **true** when common column has unique values in both tables.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/06c5317f-b5ac-441c-b4c2-b9bda502ff94)

## Right Join / Right Outer Join

* Right Join / Right Outer Join -> All rows of right table and only matching rows from left table.

* select * from student right join library on student.rno = libbrary.rno

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e82fb62d-8e6d-4d68-aefb-9970c1b8185a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/42d8644d-e1cd-4471-9b25-1bfaff75fa07)

* Resultant set

* Left and eight outer join are **complement** to each other. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/14f2ca0d-51e7-4688-9ee4-e1fc624a46f8)

* Yes.

## Full Join/ Full outer join

* select * from student full outer join library on student.rno = library.rno

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/38d6e7f1-8bf3-48b3-bb8c-7d7b8f1111e6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2b02061e-d61b-4449-8faf-5c42d32f194f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/11a1c06d-6722-410b-a1a0-24ddf7088414)

* **Full Join/ Full outer join** -> We taking all the rows from left and right table and, whatever matching data left table has with right table we will write and if it is not there we will write **NULL**. We will take the matching data from right table which are matching with left table and if not there we will write **NULL**.

* Inner Join -> Only the matching data we will get from the left and right tables from the **common column** between the two tables.

> We can say that **Inner join** is a subset of **left and right** joins.

* Left Join
* Right Join
* Full join -> It is the **superset** of **left and right** join.

* They are **subsets** and not proper subsets.

1) Result set of inner join ->(subset) -> Result of left outer join
2) Result set of inner join ->(subset) -> Result of right outer join
3) Result set of right join ->(subset) -> Result of full join
4) Result set of left join ->(subset) -> Result of full join
5) Result set of inner join ->(subset) -> Result of full join

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bc33d274-c6d9-4f1a-9c18-0ad211a77e86)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e269146f-b0c6-45f5-b7e2-be0b5edf84a2)

* Question
* Option **D**

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/43486471-8f89-45a9-a204-8ba6745a25ca)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6a70e037-d758-4135-8a67-24348aa3d824)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a212c449-b350-4f9b-9e50-323afb61abcf)

* Question
* Option **D**

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/39ef5f32-2482-48ce-b274-5257648cddf1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4d36ced0-06fd-42be-a04d-3ab5287303be)

* Cartesian Product.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fd8b653e-8ac5-4309-a0da-b27893ca35d6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/881ce19e-caf8-4ee1-8091-608609e8fd34)

* Yes.

## SQL part-IV (9) [29th June 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0af94783-4409-48bb-ac7f-46f589b93a42)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76c59ce4-4b4c-481c-9b55-91d38b9ba4b7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a417778-44a7-4e9a-93b3-13d6efa90a35)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/339029e1-2f1c-4834-84f1-c3b05f7ccd57)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/715f2426-0e28-4449-942e-aa58a6917697)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8ba49c0d-113e-4953-9bde-1f58d9a3b2b4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5e93a91f-7b5d-4297-9219-6c9aa752b566)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6d274f37-9acd-40df-b0ce-405fb8a7a39d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2676943c-b345-43dc-a4e2-5defad2bb066)

* select customername from customers inner join orders on customers.customerid = orders.customerid

* select customername from customers, orders where customers.customerid = orders.customerid

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6469faf9-7f6d-4b44-b6f0-59525027fd98)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/da3a22eb-a612-4ab6-b2ef-b46bbdb19973)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/43f24558-1d97-47af-8405-3f1411cb36f7)

* select distinct(customers.customerid), customername from customers, orders where customers.customerid = orders.customerid

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9ffc3940-1eb9-4837-a448-50a8cbceaa8d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/982f51b2-cbd6-4c5b-9c02-227c8201b274)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2a43d7f3-e0f2-4e57-b620-27542a2bd73f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cef2ffc8-6419-4077-b5c0-d2b2bbedf576)

* select orderid from orders inner join employees on orders.employeeid = employees.employeeid where firstname= 'nancy'

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c82a3a23-ec42-42c5-93e5-4b42f6f6448f)

* Join will be on the **filtered** data.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4b2d4420-f6fa-414e-b522-3a593f5d780c)

* Ordering.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7d3e3147-9425-40bd-88f0-31ee7003e605)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/303499b2-7383-42eb-bdb8-31a38d615739)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0cbb3b5a-7c9e-46e8-9374-d66a663caf64)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d5b924ca-8472-4d14-b994-ee188bfb9404)

* select dname from drivers inner join driver on drivers.did = drives.did; 
* select distinct(dname) from drivers, driver where drivers.did = drives.did; 

* We want those drivers, that are both in **drivers and drives** table. That's why we did **inner join**.
* select drivers.did, dname from drivers, driver where drivers.did = drives.did; 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b76b8254-dd77-4380-99ed-4f2fd38bd0da)

* Find name of all those students who have enrolled for atleast one course?
* select student.sid, sname from student, enrolled where student.sid = enrolled.sid; 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fe2561e5-c172-49bf-9bed-05dc3908199f)

* Find name of all those students who have enrolled for course with id=5.
* select distict student.sid, sname from student, enrolled where student.sid= enrolled.sid and courseid = 5;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bae1c147-0dfe-48b2-9008-55d9170a1c56)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8bfdce2b-a9e1-406e-b5fd-41962e7579c1)

* find name of all those students who have enrolled for atleast one course during 2022.
* select distinct student.sid, sname from student, enrolled where student.sid = enrolled.sid and duration = 2022;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19d8f11b-43e6-4f2f-ab31-49c76bec01ca)

* Left Join
* list out all student information and if they enrolled for any courses then those information also.
* select * from student left join enrolled on student.sid = enrolled.sid;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f2c0298f-2b44-4966-96be-8e2eb9fbef6e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cb95c81e-cf64-45ed-8485-b2fec0e3b464)

* find name of all students who have enrolled for course 'DBMS'.
* select distinct student.sid, student.sname from student, course, enrolled where student.sid = enrolled.sid and course.courseid = enrolled.courseid and coursename = 'DBMS'; 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2688ae71-e46f-4fc5-a6db-8537b2861943)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86347681-4621-4b71-9d16-754c5eb6d3fd)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3f4de693-ddab-436a-8277-2ad06d0efca0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e7040b31-908d-4918-ae93-798e3ae231fe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d92fdc00-72e6-4cac-b6a6-ff6d9e5d39d6)

## Self Join

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0fb1506b-78e6-4e83-a087-8fbce02c9ae1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27ce8c66-af25-4a97-bbc7-251ffa7485bd)

* Point.
* select name from employee where eno = managerid -> **Wrong **.
* Find name of all such employees who are managers also.
* We need to make a copy of the **table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/25e32981-6ba5-46dd-8c50-9d90c8f558a9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/28d695f0-945a-4427-b73e-32333e682f0b)

* If we have to do joining then we will do **joining** with the **same table**.  
* But we don't have **two** tables.
* We have to join the table with **itself** only. It is called as **self join**.
* If we have to do join the table with **itself** then we will have to do **aliasing**. It is **compulsory**.
* We have to assume they are **two different** tables and then do **aliasing**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a397491-2eca-4c5e-9cf3-c6f9051a3110)

* Find name of all such employees who are managers also.
* select distinct E1.name from employee E1, employee E2 where E1.Eno = E2.ManagerID

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82515022-4eb1-4735-ba84-edd345f2a684)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6822cc53-f7dc-4344-8379-0575e5f00931)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33805d8e-5ac4-4f7a-a8e2-9ad38a0abcc2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e097efbf-20db-40ce-8741-d5c69f19e224)

* Find name of all employees who are having managers?
* select distinct ename from employee where managerid is not NULL. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c4ea76a9-d712-42ec-bf4a-a5bee5e6a7e2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eed3d727-70bc-4e8c-8f5d-c1b5ccf41926)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aa58dc4c-6a1f-43b7-9514-e223f8404736)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/128bc20e-4f19-4f4e-b66c-5fbb431d489c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8547ba7d-3719-427e-bde6-23eef34dff5b)

* No.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0764acbe-3a98-45ca-a326-3a92205f694d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d78fed66-3c21-43bc-ad91-0196d904dfc9)

* Matched with **NULL**. If **matched** with **NULL** then **return**, otherwise **no return**.

## Relational db design functional dependency(10) [30th June 2023]

## Group By clause

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/640a6a43-2847-4203-ae82-d6a26bc49f69)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8ca60d2e-c297-42be-8c7e-4de608ddfaf5)

* Used in collaboration with the select statement to arrange identical data into groups.
* Select information in **groups**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82372002-5352-4ff0-9c52-1ef84904e3fe)

* It will give all **rows and columns**. All records of the **student** table will be given.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04f1c611-6519-4034-8ef1-3906de4456ff)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8d95687-43cb-4b32-89c5-c7d3d350ee04)

* Select * from demo group by name;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b5706804-3e1c-463d-9384-871cf68ed7f2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8e9f5c7b-0076-4c86-bee6-a1ea9408408d)

* For all of the **unique values** of **dob** column, we are creating **separate** groups for them.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cec7a11e-26e4-4168-8cb3-14cb90328bbc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3cff86ee-b790-45b6-8c31-109ba28362e7)

* select * from customers group by country;
* select country, count(customersID) from customers group by country;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33f02425-de2e-4934-bed7-7b8cee2a1088)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86315cdb-34b1-42a3-a3c7-33f97d02a0bf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d986bc2a-4c75-45f5-8b04-a0203ecce4e7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9b4c26c7-5d3a-45ac-a7b7-7cc55cf57c25)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c2f91a29-09ee-442b-9197-137769d833c8)

* 4 rows are selected.
* select * from student group by Rno;

> **5 rows(1,2,3,4,5)** will come.

* select * from student group by name;

> **3 rows(A, C, D)** will come.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/583a9a9a-ab0e-4789-bae6-33c26fd1cdaf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86a77073-a0a6-4e5b-add2-bb2c48035a4c)

* Automatically **distinct**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e6dec18a-0a00-47e0-a800-0d361cf0964e)

* Syntax.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a30d75f1-037c-4483-9766-3a1fd66da8d9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a140c79d-a4bf-4206-899f-e68560b98fe9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/48131301-1ddd-42c7-aa3e-1500930e85df)

* select categoryid, sum(price) from products group by categoryid;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76790cde-db3c-46af-a5ff-038a29e0ee0f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a32c5316-43c2-4742-9fe2-f2a1ea07092e)

* The column on which group by is done, that must be included in select. [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bb98ed73-6594-4b51-9f7e-e347e07806c7)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/edfe86a3-df35-4f37-8c56-095757a31f06)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4331270d-251c-4ef6-aea7-32d2762b00f1)

* select categoryid, min(price) from products where price > 20 group by categoryid;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d0e65b7a-3e95-4b3f-9313-f8f8b4269758)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f65cf106-144c-4404-896d-df8c2c85657b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/300aec39-70e9-422f-bfa1-0df464f4ac96)

* select categoryid, sum(price) from products where sum(price) > 200 group by categoryid; [**Wrong query**]

* We are putting the condition after the **group by** clause but **where clause** runs before **group by** clause. We need a new clause here, which is **Having** clause.

## Having clause

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/65ddb9fd-f58f-4cda-9c9f-2dc7aaf4ba5e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/11394bbd-ab0c-4d47-84fb-6ca328058562)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/38ac4cfe-46a6-4466-8d06-777daeda4c6b)

* select categoryid, sum(price) from products group by categoryid having sum(price) > 200. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/45993b89-a7f1-4432-b91d-e9bd93cdf62b)

* **Where clause** gives the **condition** in which the rows are **filtered**, and on those **filtered** rows which matches the **where** condition, on them the **group by** clause runs.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73998ef5-f875-4b4c-92ab-4758d262c1fb)

* Having clause **sequence**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69bda08b-622d-4d80-9a7d-63c7fa3f3f2e)

* Where VS Having clause **difference**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8d86f711-5d82-477f-bcb9-aa67d167da60)

* Yes, **having** cannot be written alone without **group by** clause.

## Order By

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f77d326-31c5-4f65-a958-e4d6778499aa)

* select * from customers order by country;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bc77a500-e82b-41e0-aafc-83c1158f7654)

* select * from customers order by country desc.
* select * from customers order by country, postalcode desc.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ab2140f7-c14c-4e2b-a630-debb27a231b6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/06d33b8c-2c03-45ca-acf2-b40b2370e5fe)

* Default ordering is **ascending** order.
* Order by doesn't make any changes to the table.
* Ordering the fetched data.
* Order by runs after **select** clause.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d9dfa3c-5bdd-45ac-b54a-f16e36648c11)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6c1b8faf-a7c5-4bb0-a578-e85dd476fef1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9a6fd757-a7e7-405e-bd7d-fa75f32b3e2a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0dbef429-e4a4-41c2-ba30-b805ba3cc637)

* If two **country** names are **same/equal** then those rows are **sorted** using **postal code**, otherwise we are doing the sorting with **country** only.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c55d2fd1-ed13-49a6-8e54-9b01b6dbbfc9)

* select categoryid, sum(price) from products group by categoryid having sum(price) > 200 order by sum(price) desc
* select categoryid, sum(price) from products group by categoryid having sum(price) > 200 order by sum(price)

## Subquery

* Query in a Query

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/84a62c27-64f0-42d3-8981-44ba8443e004)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/55585763-4005-4674-ac11-11e48780e258)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/293da9a3-b941-4daa-8b44-ce33a5468e46)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d5a3bee4-6a4f-45d8-99dc-a3180442a7b6)

* Subqueries can be within **select, where and from**.

1) Single row subquery -> returns single row of one column(One value)
2) Multiple row subquery -> returns multiple rows of a column(Multiple values)
3) Corelated subquery

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7beb0fca-119a-447d-bb09-733f1e116400)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/665ce8cb-9154-44ae-858e-3ac4f4b3d3e0)

## Single row subquery

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f8cfe20a-3093-4a54-8fb1-27d61f41a653)

* .......... where (Inner query)

1) Run Inner Query -> Return it's result
2) Run outer query using result

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8e64619-135a-4fa1-8d76-f204be799fe5)

* select customername from customers where country='USA'

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0cd92b00-60b9-49d7-98ac-b5f88cbce174)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6de69511-a602-4fd9-88fc-d0ee0ec63565)

* If countryname was directly not given, and we had to find the country name and for that we had to write a query.
* This is **subquery**.

* Fetch the name of all customers which are from same country of customer name 'The Cracker Box'

* select customername from customers where country = (select country from customers where customename = 'The Cracker Box')

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/204f6499-2338-4e3e-8e74-9452c5083aca)

* Self Join.
* Why not **self join** and why **subquery**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0c6d32f7-7403-4954-ba3f-5032e64df8a1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/60f15616-c2a4-4aae-88e6-0d1cd5458066)

* Find all such products which are having price less than price of product name 'Tofu'.
* select * from products where price < (select price from products where productname = 'Tofu)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e9f031ac-c6fd-49a1-b174-d9497725b3cd)

* Multiple row subquery.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/55935455-4752-4901-9dcd-5c77c575613b)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6ef9e163-4560-485c-95fa-942ddafed5ae)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/819c3158-2b02-4d54-8c32-8a732b32668d)

* Highest product price -> max(price)
* Find the product with second highest price.
* select max(price) from product where price < (select max(price) from products)

* (select max(price) from products) -> max(price)
* select max(price) from product where price -> Except **max(price)** we will get the rest rows -> Out of those rows we will select the **max(price)**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5ff828d1-d78d-4b5b-811b-b58cb3c63f06)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/afd5963e-1ecf-44d0-b265-f5e4229be672)

* Same Price products.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0dcf15d9-8a16-438d-8837-01e448246ba6)

* Multiple ways possible.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/334d5d6e-254b-42f9-ba93-50199daef758)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f0838a04-37aa-4007-a078-66516c0a00bd)

* Find the product with third highest price.

* select max(price) from product where price < (select max(price) from product where price < (select max(price) from products))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04b5a652-9099-47ec-8b71-e0f8ab07645b)

## Multiple Row Subquery

* returns multiple rows of a column
* Inner query returns multiple values. So, **equal to(=), greater than (>), etc** they don't work.
* We have to use some **keywords** like **In, any, all, exist**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6dc58168-371b-4a7f-8a3a-387d97afa74c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e0d6c930-7d16-4487-8c8a-afe186633618)

## Multiple row subquery

* We have to use **keywords** here.
* **=, <, >** don't work in **Multiple row subquery**.

### Keywords

1) In
2) Any
3) All
4) Exist

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2fc31231-520c-4aa0-8743-3a50833bd3d4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bf1470d7-3b73-41c0-9cbe-186ee5ca5c8b)

* Find all customers that are from the same countries as the suppliers.

* select * from customers where country IN (select distinct country from supplier)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a7ef7f2-33af-40c6-836a-a68667cc6dab)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a0a9bebf-fcdd-4ff4-a48f-a4e82969305d)

* **=** is for comparision of **one value** but here we have **multiple copuntry names**.
* So, **=** will not work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c344903a-3f43-4168-a6b6-202dd605cc1a)

* Will talk about it later.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2ff15c09-f567-4e7d-b4cf-4b8f9aeb4b78)

* As we are getting **multiple rows** as a **result set** from the **innere query**, we cannot use **=, <,>**, we have to use the **IN** keyword.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fa1d90d3-2f7c-482b-bc14-676a32ea7adb)

* In -> multiple OR.
* Find all customers, that are from those countries where there is not any suppliers
* select * from customers where country NOT IN (select country from suppliers) 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf162619-a48b-4c0f-8344-9c08beadb9cd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c549fc44-6887-4d06-9dd4-dd2a49c84ce5)

* Find all customers, who have placed more than 2 orders.
* (select customereid from orders 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c38d8443-7c56-4518-8732-b8876d630714)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cc9be321-a568-445d-8c16-40c45c3c20e4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a0dabff2-d187-486f-94ea-1665eb1a9350)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dc148722-a263-48e3-a7ed-073cadabf12f)

* select * from customers where customerid IN (select customerid from orders group by customerid having count(customerid) > 2)
* select * from customers where customerid IN (select customerid from orders group by customerid having count(orderid) > 2)

* We can do this subquery using **inner join** as well but **inner join or joins** in general they are quite **costly operations**. That's why using **subquery** is better.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/041b508c-a0e5-4ef8-9299-52d04a4ed308)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/faf9c7c2-ca6b-4b5e-9b78-5b8d4e6d5b69)

* Yes.
* It is not always that **subqueries** are **always better** but in the above example, **yes** subquery was better there than **join**.
* Subquery can be better sometimes.
* **Query optimization**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8fc71b58-38a6-476c-85fb-952ba12b56a4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3fca109b-2439-4746-b748-ad75d4993623)

* **IN** operator can only has **Equal to** comparision.
* If we have to **lesser than, greater than** then **IN** operator will not work.
* We have to use **Any/All** operator.

## Any Operator.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/74f794c2-24fd-4e43-b58f-58b42f04678b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/53d83a83-e8ff-48ef-907e-949a78b1a77d)

* Operators used with **ANY** keyword -> =, <>, !=, >=, >, <, <=.
* Any means **anyone**.
* Any -> **OR** operation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e112d68f-355d-4c75-b49a-abc03343481e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7cf7b058-32a1-4af7-925c-9e38aef97131)

* Greater than **any** of those values in the **brackets**.
* **= any** will work **same** as **IN** keyword.
* If condition is **True** for one value also then result is **True**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d5a25e3e-67fb-4ab6-982a-7a79fed1c575)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/451d4b40-8ff9-4254-9107-c0baf352f898)

* Find the productname of all those products which have their orders quantity larger than 50.
* select productname from products where productid = any (select productid from orderdetails where quantity > 50)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aefe5971-9c79-437f-9594-72f84a7eea45)

* Find the productname of all those products which have their productIDs less than any of the product having orders quantity equal to 1
* select productname from products where productid < any (select productid from orderdetails where quantity = 1) 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19526bcf-3bd1-402f-9398-f22e4b56924e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/625294fd-e811-4e91-a48b-a727bf396fa3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c60e070e-8bb5-4468-9732-84bc8fd3a809)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b65f4626-7dc2-4dcf-b1e0-e997e9b0c9ae)

* Another way of writing the query.
* select productname from products where productid < (select max(productid) from orderdetails where quantity = 1)
* We will directly get **one value** which is the **max(productid)** and we don't have to use the **any** keyword here.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bf9b2b2b-7a56-455b-a197-ae5d8be81b1b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/921e3549-6a97-4d07-b122-0b874ee3b10e)

* If it was **> any**, then we ould have used the **min()**, **min(productid)**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73b97dc3-ac77-40a5-a342-afd2fc6a5484)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a5b5116-dd42-4d7d-9d60-d25bab0b0ffb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7db5cbbd-75b4-43a3-9194-4b71d4d982af)

## All subquery

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c05f6436-72e9-400c-9a3e-277830e5c657)

* Any -> Anyone one value.
* All -> Comparing with everyone
* All -> **AND** operation.
* Operators used with **All** keyword -> =, <>, !=, >=, >, <, <=.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2afa32d7-f106-41bd-85d9-991f4547be0f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6e92ce53-d31d-42b3-9f08-167898edf549)

* Find the productname of all those products which have their productsids less than all of the product have orders quantiy equal to 1.
* select productname from products where productid < all (select productid from orderdetails where quantity = 1)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/83089c3e-d23d-4329-a6b3-68a48059e1bb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/534f1c5b-0049-431a-9c59-778c81cf1928)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/59d066e8-6a9c-48f6-9681-9ff5cb50d964)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76c544ef-8475-4a32-86c0-136a1c655f3d)

* **! All** -> Behaves like **Not In**.

* Finds all employees whose salaries are greater than the salary of all the employees in the sales department with departmentID is 2.
* select * from employee where salary > All (select salary from employee where departmentid = 2)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5ab4fe48-69d8-4e2b-ae3a-5b65e8f882e8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e107ebcd-9f3c-40ab-9251-00b64d395ca2)

* select * from employee where salary < any (select salary from employee where departmentid = 2)
* select * from employee where salary < ANY (select salary from employee where department=2)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c00a955f-ab42-4fdd-bb83-387abe6e8e9e)

## Exists subquery

* Checking if the **result set** returned by the **inner query** is present or not.
* If **Yes**, then we will get the result from the outer query.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f4a40ca8-d969-4524-bb07-884bde7cac6c)

* select * from customers where customerID = 1 -> All details of customers where id is '1' -> Returns 1 tuple/row.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4555b19a-719f-4b30-b5fc-4dc75c0ab7a9)

* We are checking if **result** coming from **inner query** or not.
* **Existance** of output there in the **inner query**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dfe0f8b3-b1d4-4dbf-9fe7-84cb685bfa9e)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c85fd42b-5ff7-4464-a3ac-35ee7d0c898f)

* select * from orders where exists (select NULL)
* (select NULL) -> It selects **NULL** as the **only one value**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d25d7efd-a74e-45c9-aaa4-04ef96684f27)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e5381dbf-cc77-43dc-bccf-dff7426fa415)

* In the **result set**, we are getting **NULL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d3548c0b-846d-4df6-b2fc-acd29ace65e3)

## Co-related subquery

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/02103d69-08e6-405b-9daf-8009f230d4c6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d3bdef26-fdda-4ae3-8e24-e63e0340a9ee)

* For each row of outer query, either inner query runs again and again.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f4d6211-97d4-4659-8a9d-8d0dd140726e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/183a6c4f-3575-49b7-b662-b4eef36aafda)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5acbed02-8030-411b-8cd5-4c58b74a8663)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/13adcd92-1116-4126-bca9-261216d48689)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7e261b03-da56-4ae0-96a7-02a4ac59d917)

* Yes, we are taking the **courseid** as well.
* select Rno, name from student S where exist (select * from enrolled E where S.ro = E.rno);
* With **corelated subqueries** we are doing a type of **inner join** in the above question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ac2e11e9-1ff9-42fa-867c-9e67aad9b16e)

* write a query to select all such customers record which have atleast one order placed. 
* select * from customers C where exists (select * from order O where C.customerID = O.customerID)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/50eae800-2be3-4e31-996c-d44129905c38)

* select distinct C.* from customers C LEFT JOIN orders O ON C.customerID = O.customerID;
* select distinct C.* from customers C, order O where O.customerID = C.customerID;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed907a93-6830-452a-8ff9-32602f434e25)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/943533f9-182c-4717-accd-1320ba4cde13)

* (customers.*) -> Prints the columns only from the **customer's table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5900813d-78c0-4896-819b-78d2516715b2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/36a19d5a-88f6-4493-9ab9-b8334c9d1442)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7e832d52-047d-4b89-b99d-366894bb5644)

* select distinct C.* from customers C, orders O  where O.customerID = C.customerID;

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b728555f-091e-4f9c-8da2-b0b3e9c3f578)

* select distinct C.* from customers C LEFT JOIN orders O ON C.customerID = O.customerID;

## Doubt clearing session (12) [3rd July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/018ce811-22f5-4f20-accc-d41b0fa423ab)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b37170c8-da14-4ae2-a542-74250e46cd2f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed54ef66-35e3-48a8-bb62-af85e200d25e)

1) select customername from customers where country = (select country from customers where customername = 'Around the Horn')
2) select postalcode, count (*) Counter from customers group by postalcode.
3) select country, max(Counter) from (select country, count(*) Counter from customers group by country);
4) select country from customers group by country having count(customerid) = 1

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dd184fd1-82ca-43d3-979f-d9f094c1218e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d294d412-2641-4a11-87d5-91a6facf451c)

* Subquery's result set became a **table** for the **outer query**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d469e85-29ff-43a6-a5e9-4b9aafca6fa9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3e5206e8-db30-44dd-b65e-243cc1599e83)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ff2ecfc5-9f1c-4bbf-ad67-aa4abd1e99a7)

* Question

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/10ec4755-cf0a-46cc-942d-37df88a1ccc6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/432ab264-4df2-412a-91eb-140f9e5e6a2d)

* Tables.

1) select * from product where price = (select price from products where productname = 'Aniseed Syrup')
2) select suppliername from suppliers where supplierid IN (select supplierid from products where price > 20)
3) select * fom products where productname != 'Tofu' and categoryid = (select categoryid from products where productname = 'Tofu')

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be157da9-6934-4eb2-be73-7beccb62a6d7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f65c63cd-a9a8-429d-bf33-c5550bdde6f6)

## Set Operators

* Set operators are used to combine results from two or more select statements
* SQL rule -> Both the **result sets** from the **select statements**, **no. of columns** should be **equal**.
* **Set operators** doesn't change the **columns**.
* Same no. of columns as in left or right select statement.
* **Set operators** is happening on the **data**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ec225bf-dfc9-4418-ba5a-487fa45a8efb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e696e936-5b4c-4195-908e-0453719e1e66)

* In **union**, duplicates are **eliminated**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a3b6eeb9-991c-46b2-955f-4cc99adaa294)

* We have done **union** of the **rows**.
* (select city from customers) UNION (select country from suppliers)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c16ff70f-42bb-4327-a274-cabfc42f70a2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/15f14fb9-5dfb-47f5-80f6-6cf87dab865a)

* select 'customer', country from customers
* select 'customer' as type, country from customers
* (select 'customer' as type, city from customers) UNION (select 'supplier', city from suppliers).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b49ea912-619f-4d71-a442-a5988a4cbb59)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a562f6c-b2ef-41d5-aa59-3982c8452e13)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1567e2b9-0866-4b27-a07d-4ebddbc35e05)

* UNION -> Eliminates duplicates
* Union All -> Duplicates are not eliminated. Shows all **tuples**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/51d952f2-c20e-44b6-98b5-1b7615c879e3)

* Intersection -> Common
* Intersect -> Gives common tuples.
* Minus or Except -> It gives **set difference**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/50d6205f-d7d7-45b3-8dd8-2d0146c03aa8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5e09edda-4ef3-40a4-bd05-f9b2a33694ad)

* select * from T1 except select * from T2 -> We will get those rows from T1 which are not in T2.
* select * from T2 except select * from T1 -> We will get those rows from T2 which are not in T1.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed3120af-4396-4a07-9d6e-7a9463433201)

* Find out those cities where we don't have customers but only suppliers.
* select city from suppliers EXCEPT select city from customers.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0234fb2-778f-4fa0-afb2-9d5a5565c0cb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/74ac1073-ef67-479f-a8d2-f8345dc3d1d9)

* No.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7bbc1e3e-0f95-478a-a11d-6bedefc212a9)

* Create Table

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33066896-8463-46f1-87d6-20ea7a1dbb2a)

* From another table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/07aaa49b-e306-4f72-86bf-9d9d02451167)

* Constraints

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1d7245a9-2678-44c6-94e7-3e13d2fc3c70)

* No value i. e NULL, it is fine
* If it is **value** then it should be **unique**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b3c80c80-3c30-47b7-807b-f6cfb0d875be)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/847b80d3-4241-4b96-9e69-66683a5619fc)

* Primary Key

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e9ef641b-befa-4925-841a-0563857680f8)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3026a348-5c34-4911-90d4-3d9a8fb9734c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04e7d9c7-2e1c-4a38-b219-c2cc0d9bd293)

* Foreign Key

### Doubts

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cbc8d888-f02d-4135-a16b-f22deef99b44)

* Wrong question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b90013f3-9844-4efa-b1a4-f6f30003ad57)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/396e6b37-d314-4d9d-bfe3-e8ed718ca32c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fb50e9b2-9500-4644-bf72-1bf35efeb014)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1c1e8cad-06cd-49c0-a10f-438c7363053d)

* Yes, with **IN** keyword.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4752d2c5-f9a1-4a09-99ff-cca8bf6d1692)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e2d3ab3d-eef2-47bc-9a9b-f0ef6a1824d9)

* Correct.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76ebffe9-20a0-408d-80e7-79fbf25d94b1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0b2c5f2c-0e58-48f2-9c89-6f8ed0bebcae)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a2929f6-c01a-4a45-982f-1cf01b112605)

## Normalization part-II (13) [4th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d164105e-7175-43e9-a207-b76451df6c48)

* Completed.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cebdf2d3-1fd7-4164-96f7-e3438c853e67)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/47b4cc73-b02b-4d5f-b859-1e952ca11b57)

* Relational Model

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0bef48ce-ec62-4611-b735-a083a04c98b9)

* Relation -> Table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c4003ac6-60db-4b73-a57c-aeac998b6ea6)

* Attributes

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/56e92fad-f0a4-45c5-9d82-7b500b8e0611)

* Tuple

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b9803c7d-22c8-48a6-831a-dc5543dce250)

* Relation example

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6423d2f5-7ef8-4eaf-bb85-665f931dfc0a)

* DB Schema

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6032d5dc-c5a9-4b83-87bc-f118b21397a2)

* DB Instance

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6c524c38-1ba6-4a04-b43a-841f1ff36425)

* Domain -> Datatype.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bdf31b8d-e4e6-4bbf-957c-639f7766fb05)

* Domain Constraint

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fcc935ae-1dd1-4d46-9f0e-8ec79d53cb01)

* Degree or Arity

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f68678a6-fd4c-4a46-8f4a-38219a1634ce)

* Cardinality

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/923b24d9-9db0-430e-9a85-e54bc4ed1755)

* Functional Dependency

## Functional Dependency

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/00f483ec-f0f6-46c6-804c-6b32f72bfff3)

* If we have **one value of 'A'** then give **one value of 'B'** and not **two values**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9bfb7a3e-dd01-4be4-a81f-caf17c99e30c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7305a393-37af-4092-aace-503937195746)

* For **a1** value of **A** column we are getting **two different values** of **B** column which are **b1 and b3**. So **a1** is giving **not unique** values.
* So, **A -> B** does not **hold**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c0f7f758-0b8f-4de9-80bd-ae176635d325)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cdd74fcf-8645-4ded-ac1c-4a035cf340f1)

* For **a1** value of **A** column we are getting **unique value** of **B** column which is **b1**. So **a1** is giving **unique** value.
* For **a2** value of **A** column we are getting **unique value** of **B** column which is **b2**. So **a2** is giving **unique** value.
* So, **A -> B** does **hold**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/373fdd53-074e-4faf-bd08-2717503545c5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2f82732b-10bd-4f91-9dbe-b2775b951c0f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5153e525-7212-422b-b033-fa0abba0710a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c63aa487-e921-4392-9561-2580d9efbc1a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dfa88491-8aa2-4d75-9191-14359be408da)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e77c773e-aa5e-4d67-ac22-14efaafb3d22)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8535f50c-777f-4bad-84ed-49e6f6fe3380)

* A -> B -> doesn't Hold
* B -> C -> Holds
* C -> A -> doesn't Hold
* C -> B -> doesn't Hold
* A -> C -> doesn't Hold
* AB -> C -> Holds
* Ac -> B -> Holds

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/137e406d-e00d-4283-9a50-c29727975a8e)

## Closure of n Attribute

* What all attributes we can derive from given attribute.
* Closure of attribute **A**(A+) -> {A}
* No dependency is given which can be derived from **A**.
* Closure of attribute **B**(B+) -> {B, C}
* Closure of attribute **C**(C+) -> {C}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dd8d081e-95d0-40c2-8561-65b0c3cf0e47)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86b3c17b-76ce-491c-a80a-529faa6551f5)

* A+ -> {A, B}
* B+ -> {B}
* C+ -> {C, D}
* D+ -> {D}.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d19e3a9b-9358-4103-8f5b-c4d58e9ea4f6)


* A+ -> {A, B}
* B+ -> {B}
* C+ -> {C, D, A, B}
* D+ -> {D, A, B}.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/692d87df-94a5-4c80-8e20-590b7ca79ba5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72b62baf-6e21-48b8-946c-ea55b4560a88)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9cf3d4f1-8a03-4032-82ec-86a3382405bb)

* Trivial Functional Dependency

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b3d38d3f-269e-4fe0-8239-5d9990098c23)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/16e82022-4222-45fa-9c64-4c2d578e7071)

* Rules.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/43a39db3-fadd-4d5b-aaa9-e514e9e793d1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f8395abe-fc85-4f09-adbf-83224f49a6d4)

* Reflexivity Rule
* If **A to B** holds then **AC to BC** will also hold. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/70473b11-f847-44a6-8faf-d02c52e0af80)

* Augmentation Rule.
* If **E -> F** holds then **ABE to ABF** alos holds.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3e295f0f-24ca-4ff2-82f2-6de5b48b8bd5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2705a23b-a494-42c0-97ac-5e08c0c43180)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27f83c71-60ef-4395-908a-d3eb920409ee)

* Transitivity Rule

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/117b93e1-178f-4c18-98da-595a5eee0339)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1bef4ff8-00e9-4170-94d7-60faf2980088)

* Addition Rule.

## Closure of a set of functional dependencies

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c919e31c-305a-4419-95ad-7e16dd063b3a)

* In **F+**, we will use **transitivity rule** and we will get **A -> B**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2d6ac792-120c-49c3-ae1e-6ca0a3ac2fba)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c062825c-060c-435d-aeb2-2d56f2154d28)

* We have to **find** more **dependencies**.
* Pseudo transitivity Rules.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a9b46635-5be0-42bc-bb35-f22db2fd2ebe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2888af25-977f-4938-b898-b01d7ae12e6d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/48457103-7d58-4557-ae70-af5d38a8213f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed62104e-2000-4003-998a-a38c908505e4)

* Question, Find **FD+**.
* FD+ -> {A -> B, B -> C, AB -> D, A -> C, A -> D}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e0cf66a9-40fc-405c-a373-d52a400ef39e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4e53e3e5-dd2d-4428-bd11-5249c1cd11c7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0bb295b9-f05f-4f32-ae71-7d1be28b84ce)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5832f1be-8442-4ad8-b9c8-1ff869c840ce)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5186916a-ea9d-4b50-9da4-03b693aae4b8)

* Question
* Option **B**.
* [**IMPORTANT**]
* Do it using **closures** better.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9ecd7ea7-f61d-4ef2-bee7-a48759e9024a)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/92b834a6-8bba-4bae-bd5d-52193eba5c63)

* Question
* FD+ ={AC -> XY, A -> C, BY -> XY, AY -> XY, A -> XY}
* If **A -> B** holds then **AC -> BC** also holds.
* If **AC -> BC** holds then **A -> B** also holds that is **not True or false**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a4f1a23-735a-4915-9a0e-6ea025aaae59)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/976e8964-640e-4d19-9bd3-d997ba4eaf5d)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dc631168-42d6-4f8d-af8e-962df77437be)

## Finding keys using FDs

* Keys -> Candidate keys.
* **Minimal super key** is **candidate key**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ce6480fe-4022-4b2c-9829-7858c5e73d48)

* If **ABC** is a **candidate key**, then **ABCD** cannot be a **candidate key**.
* If **ABC** is a **candidate key** then we cannot attach attributes to **ABC** to make **candidate keys**. We will not **check them**.
* **ADB** could be a **candidate key** as it is **different** from **ABC**. They are not **proper subsets** of eah other.
* Key -> Uniquely identify **one single row**.
* If **A** is a key then we can find **B, C and D**.
* From **A** we can derive **B, C and D**, which is **A -> BCD**. Directly or indirectly.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/345255c2-8fa8-47bd-85a8-fa08b9678fba)

* In closure of **A**(A+) -> {A, B, C, D}
* If we find all of the attributes in closure of **A**(A+) then only we can say that **A** is a **key**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c564af8d-88f2-436f-a6a3-b43929d3bc59)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e9086d51-d2ff-458e-bbaa-cb612ddcf619)

* Question
* In closure of **A**(A+), we found all of the **attributes** within it, so **A** is a **candidate key**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ed2d633-61c0-483f-8d4d-2c334d8bd399)

* When we are finding **keys**, we will check on the **right hand side**, what we don't have. Whatever is not there, that will be coming in the **key**. [**TRICK**] [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/361adc6b-6292-4ab8-8c04-21fe1c59c473)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/871ba4e6-66eb-4dac-87e6-a551de0cee4b)

* A+ -> A, B, C, D
* B+ -> B, C, D, A
* C+ -> C, D, A, B
* D+ -> D, A, B, C.

* All of them have **all of the attributes** in their **closures**.
* So, **A, B, C and D** are **candidate key**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ddee556e-b0ca-4601-87d7-03992e6aa384)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d8a1d599-9977-49cd-8955-2c50d87e75fd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1609e260-a207-4391-9cdf-5246a8f2d281)

* Question
* Find Keys
* B+ -> B, D,
* A+ -> A
* C+ -> C, E
* D+ -> D
* AB+ -> A, B, C, D, E, F
* CD+ -> C, D, E, F.

* Only **one** of them have **all of the attributes** in their **closures**.
* So, **AB ** is the **candidate keys**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/31bed794-6fc7-4a73-9895-d70733c1e7e0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9a50e026-3fdb-4881-a64b-7d622dab6d91)

* Question
* Find Keys

* Attributes not in the **right hand side** -> A
* A+ -> A
* AB+ -> A, B, D, C, F, E
* **B** can be replaced in **AB+**, which is **C**
* AC+ -> A, C, B, D, F, E
* **C** can be replaced in **AC+**, which is **D**
* AD+ -> A, D, C, F, B, E

* Only **three** of them have **all of the attributes** in their **closures**.
* So, **AB, AC, AD** is the **candidate keys**.
* We have to check if the values can be derives from other values or not **like above**. [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0536b8c6-e464-4819-a887-828767e4cd87)

## ER diagram to relational model conversion (14) [5th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/588dd203-485a-4ad0-a68a-9ece355a61b5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eed3c7dc-f9ce-490c-a076-bff8cea4bbaf)

* We are doing **union**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c73b4dc0-8574-43aa-9ed1-7ea126be12a1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8d45486-2e80-4acd-9f64-70df4dacb6c5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/88feacb7-f567-4879-ba25-bdda608157f7)

* Question
* AB+ -> A, B, D, F, E, C, G
* GB+ -> G, B, A, D, F, E, C
* AC+ -> A, C, B, D, F, E, G
* GC+
* AE+ -> A, E, C, B, D, F, G
* GE+
* These are the **6** keys.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eeffda2c-2860-47b4-a541-9036e6e42765)

* AD+ -> A, D, E, G [Not possible, incomplete]
* AB+ -> A, B, C, D, E, G
* AC+ -> A, C, B, D, E, G
* BC+ -> B, C, A, D, E, G

* These **three** are the **keys**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/892e9ee3-bba3-4ea0-b0e5-39954d9ef2be)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3f888410-7b86-4558-b279-2a0e27a31333)

* E+ -> C
* BC -> B, C, D, A,
* AEG+ -> A, E, G, C, B, D
* DEG+
* BEG+

* So, **three** keys are coming.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/17f9d2da-dbec-4857-bd60-9972950d61e3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8a9537c8-cf65-464b-83db-1837abf42098)

* **BCEG** not needed as we can get **C** from **E**
* So, **BEG** will work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f1fb6b7-3687-47ac-8420-1d67c59a4d0e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1e4110dc-5244-4a6b-aba1-a7b4bb5333ad)

* yEs.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4a046663-cb01-4856-aa61-767bd1048894)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9af51c66-3578-4af1-87c0-327e131e8d73)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44f81a58-2617-41b1-9300-97b85dee6bc5)

* Minimal Set.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1ba430c1-2bd3-4263-b73c-04bab8e42b1b)

* Exactly.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/abad736e-9e5d-44f4-aaa2-224e5bd551b6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/28e59cb4-2352-4166-a1c1-a69632d54612)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f731738-a949-43f1-bdee-aed14b627d9c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f5ac4bc-60da-45b6-b4b6-ff99562ddfd8)

## Normalization

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/efe4639d-ebf1-46b1-b0a6-18f37f5d3e7d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cc223766-5044-4d3c-88ae-922bdc1dfc1a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/47f11410-0553-4e15-ad2d-45c1375ceed0)

* Normalizing the table **R** and decomposing table **R** into **R1 and **R2** table.
* If we didn't allow **NULL** value in **P-Id, P_Name and P_Price**. They should be **Not NULL**.
* There is an **anomoly** due to **insertion** into the table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1be49c55-6e11-4286-a89e-60dd1fc684f5)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9b5d4868-cd20-4958-ae24-63d3ce1f5fb7)

* Insert anomaly.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/af1b0614-eff6-482e-9b74-216c8d77cecb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7deefb3d-ffb2-414c-9c30-bb8939525add)

* It is called as **insert anomaly**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5e8388c1-8264-4dc9-b878-e646beb655d4)

* **Update anomaly**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/edeada7d-bf5f-4c43-b309-965c03043f8a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9919299e-9524-4d9e-b7d2-35b09a01821f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/165c767e-58ed-4139-96a7-bb5f22bbcd95)

*  Assuming product jeans price has been chnaged to 2500.
*  Rencho purchased shirt in 2200 but now my DB shows in 2500.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d3cc0cf5-90a5-4084-b56f-974176eb40a9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c6a0307f-8d0c-417d-a751-b76d2d3752f5)

* Delete product jeans
* Deletion Anomaly
* Customer with id **c3** also deleted.
* To **remove** the above anomalies we use **normalization**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/577524d5-c6f5-421b-b396-ceccf29ffd4f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/09345e6c-4be5-40c7-9639-f54711df384a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/62da465b-a205-460f-a479-6fd0fe2ae547)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/01f2c9ec-7398-4887-88b3-1f3edd3605ad)

* GATE syllabus till **BCNF**.
* NFs -> 1NF, 2NF, 3NF, BCNF.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f81fd385-26f3-477b-a364-c563fc59afab)

* Till **BCNF** is **needed**.
* Remove multivalued attributes.

## 1NF

* A relation R is said to be in 1NF if there is no any multivalued attribute in R.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/941e56d7-e86f-4a0c-bf74-5e3e3bbaef14)

* Phono is **multivalued** attribute
* Eliminate **multivalued** attribute

1) Increase rows.
2) Increase columns.
3) Decompose relation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8fdf3be4-c0c1-40f9-96ad-3cc540f5c6ca)

### 1) Increase rows.

* Problems:-

1) **Rno** column is no longer a primary key
2) Too mcuh of redundent information.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e370bad9-09c3-4468-ba04-fff1764719ca)

### 2) Increase columns.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c9b43b63-a0ca-401a-9e53-921fc0734e02)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0b5cce74-ac2e-46be-be42-5cccb1e9bb39)

* This works perfectly fine.

* Problems:-

* Wastage of space if multiple NULL values in phno 2.
* Wastage may increase if one row has 3 phone umbers.

### 3) Decompose relation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/306aebdb-3839-4653-b0e1-bb808e4a4434)

* We removed the **Rno** column.
* Keep multivalued attribute along with **primary key** of table in another table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be5a0f96-8b51-4ce4-95e4-bbb40f6d619f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a41c3bef-ee74-476d-bfe5-80cea2e3a499)

* This is also a **good solution**.

## 2NF

* If we have to normalize the DB table in **2NF** form, then they should be **normalized** in **1NF** form.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6407752d-e1f7-43ad-96b1-7f68a4fdbee0)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c9a2d474-266f-4951-b632-9b0a5aa13de6)

* No any non- prime or attribute.
* There is **no any **, Non non-rprime attributes,

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1db0ee96-7874-4566-82c1-b440d22cf8b7)

* Partial Dependency.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/acb597d3-ef1a-495b-a5ea-6058a9ddd8e6)

* Prime and non-prime attribute.
* if key is a **composite** key and from the **sub-part**. If the **sub-part** derives some **non-prime** attribute.
* This is calle as **Partial Dependency**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c7cb85b7-18c5-40c9-9c13-7b039a6cb904)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ee49af49-9e99-45e9-ab13-574b1fe0dd23)

* If **A** is a **composite** row then **no. of poossibilities of partial dependency**..

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ab55e37c-5475-4125-8a7b-6769d7eac41e)

* Ofcourse.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33d74be4-f1b6-4ad7-93a6-2d72faf2444d)

* Example
* Candidate Key is **AB**.
* Prime attribute -> A, B
* Non-prime attribute -> C, D

* If **table's data** is not given, then we can assume that the **table** is in **1NF** form.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4860d8c8-0ce3-493c-a251-b93d53678a8b)

* For the table to be in **2NF** form, there are **two** conditions:-

1) Table should be in **1NF**.
2) No partial dependency. 

* **A or B** alone can derive any **non-prime** dependency?

> **Yes**, **B** derives **D**.

* It is a **partial dependency**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/07cb7034-8aef-4891-8540-725aa7cbc389)

* Given relation **R** is not in **2NF**.
* We have to get it to **2NF**.
* To get the relation in **2NF**, we have to **decompose** the relation.
* To bring **R** in 2NF, decompose **R** into **two** relations such that we remove **partially dependent** attribute from **R** and keep it in another relation.

* We have to keep the **partially dependent** attribute with whom it is **dependent** on.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7c09717b-19f4-4305-9ee4-fd9c7afde711)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/610d3b48-e781-4006-8811-5dcc987a41dc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ee277bb6-654f-4392-91c5-2eab4ccddd9c)

* Not with the **key**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/17833227-5d03-495c-8dec-ff53cb65e81a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72dc1d8b-9609-438d-ac21-151d22f25dbe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27c07db1-c6d9-4d67-a4a3-25a7f8710c55)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2e10a702-41d5-45e5-8e36-4593310b5343)

* Key in **R1** tabel is **AB**.
* Key in **R2** table is **B**.
* So, there is **no partial dependency**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/28ddcd82-acfd-4835-838f-6d7f197dd2d1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a04eb922-f8da-4ff7-bd22-bed298e4a8b7)

* Both **R1 and R2** are in **2NF**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27cab1ab-20f5-4c31-a3d5-5ad4aa9204fc)

* Will see later.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec0e8c74-b6ef-471e-914f-75dd5b62fafc)

* Very important.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d180b7eb-b5a9-4a7d-b5a9-93d093000e0b)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ca7d0fd5-6180-4ca9-959d-1a673a47bdfb)

* Partial dependency

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf00fc77-358c-4ded-8b72-d71f4965e8c7)

* Candidate Key -> AB
* Prime attributes -> A, B
* Non-prime attributes -> C, D, E
* We have **two partial dependencies**.
* A -> D and B -> E
* We have to keep **each partial dependency** in separate tables.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4667cdfc-d8c9-499f-8fae-4adf724e88ca)

* Now, **R, R1 and R2** are in **2NF**, **partial dependencies** are removed.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b852a7a3-7f05-43fa-a3a3-0e082bbe0cbc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3bcb90d3-0d33-44d2-8537-31699eeeb8c1)

* Question.
* Option **C and D**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/035c330c-b837-4fd8-bf3f-b8a5093bdeec)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5888d5e8-d273-4f0c-a83e-031ef39daa60)

## Questions on relational modeling fd normalization (15) [7th July 2023]

* Normalization -> To Remove **redundancy**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3a2b7b8e-69a5-4963-ac8d-6c03334bcd7e)

* **AB** is a **candidate key**.
* **B -> C** is **possible**.
* **C -> B** is **not possible**.
* We have a **partial dependency**, as **AB** is a **candidate key** and **B -> C** is **possible**.
* So, the **partial dependency** is **B -> C**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7180af91-8f02-43bd-8bba-3e0455458d1b)

* In the **R2** table, why write the **same values** multiple times, write it **once**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ba903be7-8d69-49e9-a0c2-e54ef7ddc745)

* Reduced or reducing **redundancy** of **partial dependency**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91f53274-0199-4442-b299-8546348dae72)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/155e4210-f420-41e7-8e1d-568adc2dc1e2)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/45b49d67-c574-4bce-b856-1bfa1188e1cd)

* Steps to get **2NF**, Method(Decompose into 2NF):-

1) Find the **Candidate Key**.
2) Find the **prime and non-prime attributes**.
3) Check if **individual values** from the **Candidate Key** have **dependency** on **non-prime attributes**.
4) If so, then they are **partial dependencies**.

* As we found that **AB -> C** is causing **partial dependency**, so remove **C** from **R** table.
* Keep **C** in a **separate** table with it's **dependency** which is **AB**, which is **R2** table.

* As we found that **D -> C** is causing **partial dependency**, so remove **E** from **R** table.
* Keep **E** in a **separate** table with it's **dependency** which is **D**, which is **R3** table.
* Don't remove the **dependencies**, which are **AB and D** from the **original table(R)**.
* Only remove **C and E** from the **original table(R)**.

* R1(A, B, D) -> No Need of **FDs** as **ABD** together is making a **key**. No sense of **deriving** a fourth attribute.
* R2(A,B, E)
* R3(D -> E)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f1126ebc-21f0-4de0-b804-210ba7b42059)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a87b06c1-0aca-46d7-af61-026984f8597f)

* For every **partial dependency** we will create a **separate table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5f3358e8-dbfa-4caa-9354-a5b8688ce4a2)

* Question

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a203d0a4-8d6e-4ee3-b706-533a7d35181b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a13e2aee-1021-4cd5-9fec-c2ecda2f4be3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/05b1c9b9-65f4-45c3-97bf-6069f5856779)

* In **2NF**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5f754768-7b97-43cf-b397-70245ba798f0)

## 3NF

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a07132b-11c5-49a8-8650-da0bd312d796)

* **No**. Not dependent on the **key**, it is dependent on **A**, whch is not the **key**.
* Transitively dependent
* Key -> Non-prime
* Non-prime -> Non-prime

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a1552441-9541-4195-b3c1-c5ac2cd5a2ae)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f3d5238b-9961-47a1-b871-3532ca059782)

* Candidate key -> AB
* Prime -> A, B
* Non-prime -> C, D
* Check for 2NF -> No partial dependency -> **2NF satisfied** -> It is in **2NF**..

* AB -> C [Key -> non-prime]
* C -> D [non-prime -> non-prime]
* So, AB -> D [Transitively dependent]
* **D** is **Transitively dependent** on the **key(AB)**.
* So, **3NF** not satisfied.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/22cb98d5-1b63-4f84-aee1-19d955c23b55)

* **D** is **dependent**, **D** is the **issue/problem**.
* If **D** is the **issue/problem**, then **remove 'D'**.
* Keep **D** in a **separate table** with **C**.
* We will do **decomposition** here.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dad465e2-985f-4bc9-823e-829de43da488)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/20de97a7-a8bf-47da-8e7e-1be9010b98c8)

* Decompose **R** into **2 relations**.
* Whoever is **Transitively dependent**, **D** here, we will remove that from the **original table**. [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2e6da6ce-4f9d-44a0-891c-5d8722f5b5ff)

* Yes rule of **3NF**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ce197a9-46d9-47bb-95a2-fca4bc51cafe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0b0eb1d2-da37-4408-9d36-04c54d25fcbd)

* To whom **D** is **directly dependent** on, that should go with **D**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/46503d93-b39a-4f77-9056-070275df4bdb)

* If **D** is transitively dependent on **key** then, **remove 'D'** from the **original table** and keep it in **another table** along with the **attribute** with which **D** is **directly dependent**.
* Don't remove **C** from the **original table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8983e6ab-5b5f-4f99-8d05-86a3fa524b49)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b60a18c0-2ea5-4d8c-a0d2-4264734f7e37)

* There is **transitive dependency** as **A** is the **key**.
* A -> C
* C -> D
* A -> D
* **D** is **transitive dependency** on **A**.
* So **3NF** not **satisfied**.
* We have to **decompose** the **R3** table into more tables to satisfy **3NF**.

* If the **candidate key** is a **single column key** then there is **no partial dependency**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/89dc63df-d77d-4817-b16a-9a95757d0e88)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f6eeeb0-c4ff-4dcd-b879-0bc22a04921f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/887979fd-6753-43ad-afe1-fb1b0b233901)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bf451d38-b572-43f7-8b54-082d15a5d136)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ac6ea0c4-36e6-4902-91d3-9ea4b9655c79)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e39151ba-aace-4c01-9cde-6324e800fa06)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b961ef3f-324e-423b-9f12-7eebcf79e9f8)

* Option **C**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/273c8c50-80f9-482b-9062-b3db9d3871db)

* np -> Non-prime to Non-prime

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b7ff8fb8-b0a7-4012-82ef-d12ab80c8a33)

* So, there will be **transitive dependency**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b7118a50-9e9f-46ab-bb47-aa9a7cc7d60e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27c95ccc-45e6-47fe-aede-25ea330acfad)

* [**IMPORTANT**]
* 3NF.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bdf1a88a-6c9c-43f6-9a0a-9c9fcc079c0f)

* Then also **3NF** is adequate.

## BCNF

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/728498aa-4381-46f0-9fe5-637c7794f42f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cb9048e1-a00b-47f4-917b-e4611c4a1c6b)

* Candidate Keys -> AB and AD.
* No any partial or transitive dependency. Hence already in **3NF**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3883e08e-ff2b-4308-8b0d-0879463f8e8d)

* In the **FDs** or **functional dependency**, the **LHS** should be a **key** for it to be in **BCNF**. [**IMPORTANT**]
* Not in **BCNF**.
* The solution is to do **decomposition**.
* Remove **B** from the original table.
* Put **B** in another table with **D**.
* Do not remove **D** from original table.
* Remove **B** from the original table and keep it in another table with **D**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19d81cd2-70e0-48fa-95ee-a53276e7fff5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/96fe50c6-b0e8-45ba-a3ea-16936b6cf1ce)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3634723d-0722-484e-8fee-99f926645c8b)

* There is so **data loss** as earlier the **FD** was **AB -> CD** in the original(R) table but in **R1** table it is **A -> CD**. 
* This **decomposition** is called as **lossy decomposition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f5b0d861-50a8-4b68-a6dd-89d53e8b6fcb)

* The **original FD**, **AB -> CD**, is not **preserved**. It is now **A -> CD**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/30831bd6-4836-4af6-836d-3ce8ce6dfc71)

* **BCNF** can create problems. There is **no any solution** for this.
* When we do **decomposition** till **3NF**, everything is **fine**. **No data loss**, no **FDs** are lost as well.
* When we go to **BCNF**, there is a **possibility/chance** that **FD** is **not preserved** or the **decomposition** that happened, causes **data loss**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/372ecc2a-6768-4f9b-b3c2-d7ba8cf40d81)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a23a810e-20cd-4205-bb50-dd2aa2e687d7)

* Upto 3NF decomposition -> Definitely **lossless and dependency preserving** -> **Compulsory**.
* BCNF decomposition -> Not necessarily -> **lossless and dependency preserving** -> **possibility/chance**.

* BCNF **always provides** lossless and dependency preserving decomposition?

> **False**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/66bcb98a-d8d5-408c-80b3-5dc0757a484e)

* BCNF **may provide** lossless and dependency preserving decomposition?

> **True**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/de84b500-0ba5-4fed-9179-7a097b478c5d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7072851f-f177-4119-a6c9-52636017057b)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5916ba7c-da64-42d0-967f-e3254f13691d)

* Solved in my copy.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7a3ff8f5-8483-402f-91ae-89b40bb2d82b)

* Question
* Option **A**.
* Partial Dependency are there -> A -> C and B -> D.
* So it is not in **2NF**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/16854bc4-ddc8-4cd7-bbd4-cbef2647d07b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7792e435-df29-4dfc-ba9c-55c9ab01dfdb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a5d5e35-5d15-4abb-8ae9-29ef934f0291)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e000ffd4-2123-4aee-bd37-9a5410240a5d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72b845ff-90b1-4188-a98d-e8bc3f9954f2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dae27d31-0110-44c0-b596-e25df7836b80)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8e207028-2a6a-4a9f-b9a2-f6d1a430bdc0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4b993ef4-5809-4c37-93f8-8f68bdb4e7ef)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/62efd41a-1125-4281-a9c6-c439595289a2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9be6958b-211a-4e7d-89d2-a5ab4c9ad008)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/497c97b8-2325-4094-95bc-a96a7c6e704c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/382515b9-177b-49da-8628-407fb9e00b9c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/30a7411c-cb70-4bc3-9b3e-172a8835448e)

## Doubt clearing session(16) [7th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1c07ca70-51bb-4b21-8841-be24e27fc5e6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b4378d5b-acb6-4e1c-8fe9-56b1ad5a3ded)

* Relation is already in **3NF**.
* Also in **BCNF** because for each **FD**, the **LHS** is a **key**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32327a14-fa63-4b9e-981b-887cd8552037)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1359acff-3862-4dd2-a691-214613b6801c)

* Question.
* Answer -> **a, b, c**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dc78a731-4271-40b3-8ce9-0a7cf0122983)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9ef86a96-aad7-4713-9ca6-bddcbea3af78)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e2ddf8c7-601a-48d3-9136-5831b80f1332)

* BCNF
* [**IMPORTANT**]
* A -> B
* No partial or transative dependencies
* LHS is a **key**
* So **BCNF**.
* Same for **B -> A, AB -> AB**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cedb3ef2-ec2c-4639-ba87-6f11d50af119)

* We said that if more than **2 attributes** are given then it is not possible to find **relation** without **FDs**.
* If **2 attributes** are there then it is possible without **FDs**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3bca28b2-7618-4e6c-aae3-2ebcb9c8f0d1)

* Question.
* Option **D**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be7e6f58-7a75-4784-9d07-8d07a352ed8d)

* For **partial dependency**, all of the **above problems** happen.
* To remove them we apply **normalization**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cd1a6d1f-28ed-4e60-81fb-8e880c757396)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9e39d97f-c316-492c-8f0f-3aa0357c4078)

* **Inconsistency** comes because of **redundancy**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72b15f97-ba23-47df-9a95-b379d1374a01)

* Yes.

## Lossy VS Lossless Decomposition.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3ce16a85-cd68-4179-a0de-1eb15f552412)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c70cf1ef-6705-4d77-89a6-03d70cc2776b)

* We will do **inner join** and the **common column** is **sname**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1d9ce057-c399-4bc8-aa21-a35b522bee7f)

* select * from student_details S inner join s_department d on S.sname = d.sname;
* We will get **4 columns** and **4 rows**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d42656f5-550a-485c-931b-3fdf219326cd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6b71f7f3-965b-46a7-9036-bc261e32455a)

* If we want the **department** of **roll 12 vishvadeep**, then the **query engine** will be **confused** as we have **two roll 12 vishvadeep**, one of them has **CSE** as their **department** and the other has **AI** as their **department**.

* We didn't get the **correct** information, we wanted.
* THis is **lossy decomposition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/de45ed1f-0460-4265-a27a-0629faeb2fad)

* It will be **lossy decomposition** when we do **inner join** on the **decomposition tables** and after doing **inner join** the **result set** that we will get. If the **result set** is **not equal** to the **original table** then it is **lossy decomposition**.

* If the **result set** is **same to same** as the **original table** then it is **lossles decomposition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aa0f5d16-2335-4ae8-a5ed-1a984a57a278)

* We don't know which is the **original data**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c7525bbd-27a6-4280-9f97-2f02b1385707)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f3a4e3c-54c6-46f0-94d9-b039f2d2c7bc)

* Lossy Join Decomposition
* The join is **inner join**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3ad342e9-25d2-430d-ab17-3e4fe6f4ce32)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/03e2ce19-3f1a-450f-9bb1-8b85be934dfa)

* Lossless Join Decomposition

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d22f539d-5e8b-484f-a35b-6cf4c4045b79)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e85712f1-8855-4bc0-bda6-027917bde58b)

* select * from student_details S, S_department d where S.rno = d.rno

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5aeeda57-e490-4a69-b387-df6a160a94a5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/74f0cf3d-5f28-4048-8165-7c99f2d18c3f)

* Inner Join
* R becomes a **subset** of the **result set** -> Lossy decomposition.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c80c6734-61b0-4504-b897-d5894f4e1cb9)

* Question.
* **Y** is the **common table**.
* We will get **lossy decomposition** because **5** is there **two** times in **Y** column. We will get more columns than there was in the **original taable**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0b151eec-b111-4676-9fe8-17a3d7d18fe3)

* Good **observation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44dfb87c-d483-456e-831c-dfae331be83b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dfa81e50-7a5e-4179-afbf-e43a0482b5ea)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c6eabe81-5bb9-4215-af52-685d4a6f7b21)

* If the **common column(Rno)** is the **key** in **both the tables** then it should be**lossles**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2db03374-5b3a-47ed-b8a6-fb7397e8c648)

* If the **common column(Sname)** is **not a key** in **both the tables** then it will be**lossy**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/df65349e-dbe1-4a01-a61a-ad4e972dec12)

* We are doing **intersection** between the **attributes** of **R1 and R2 table**.
* If the **common attribute(D)** we got is a **candidate key** in anyone of **R1 or R2** -> **Lossless decomposition**.
* **D** is **key** in **R2** hence it is **Lossless decomposition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0c55948d-82d1-4d88-bfa8-c9b58e9c024a)

* Question

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5bd5b940-9e3d-4405-8c19-285999d358e4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/407cb8cc-b6dc-4312-963c-4f38688cc0df)

* **R1 intersection R2**, between **R1(A, B, C) and R2(A, D, E)**. So, we have **A** as the **common attribute**.
* Is **A** a key in **R1 or R2**?
* As it is **yes**, so it is **lossles**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c9bd1890-4ec5-4521-9b96-170a3a71c119)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d44b68c-7c8b-47b9-bed7-bcd44f5822ab)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5e0ee71f-dae5-4d0f-8aff-b9c7a37e04f2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4c81a715-f0e2-4cd6-8c33-3d937c8b8e09)

* Lossy.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ffc82bad-577f-4fd5-a006-967977305d90)

* Question.

* Common between **R1 and R2** is **B, C**. **Two Attributes**.
* If we have **more than one common attribute** then we have to write condition on all of the attributes.
* We have to write **join condition** on all of the **attributes**.
* We have to do **AND**.
* R1's FDs, A -> BC, BC -> A
* R2's FDs, B -> CD
* R1's key -> A, BC
* R2's Key -> B
* As **BC** is a **key** in **R1**, so it is **lossless**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/17594bf9-e2d9-429f-8f29-4ab6f79205df)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3b27734f-9e4b-42ee-8214-d8641839a3e2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0a13dcc-64ce-4ed9-b2ed-1b445154cafd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/15c09d24-91d7-45b5-9449-7986e2f7d974)

* lossless
* [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c3b32c45-5629-49ec-92d7-9fbdb55baeb3)

* If **B** was alone then also **lossles**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/173f2c4d-7605-4758-a257-0027f7d7f77e)

* Question.
* If we do **inner join** of **three tables** then we have to write **two join conditions**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/199df87d-94d6-4deb-a468-cf9e35d9e250)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8bd3431d-ee01-4607-ad8d-222c1df9eee4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dec44e16-23c2-44e7-9f36-0b525303ab8e)

* Combine **two-two** tables.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/81b176f7-7838-490c-b2c3-c3785b2eabab)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d4aaea5b-d661-4136-8f5a-e56b66123a4b)

* Lossless.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/17d70ebf-468c-4a1f-ba14-79fde58f7b2f)

* Question.
* There is **no common attribute** between **R1 and R2**.
* So, **lossy**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/588f3710-3fd6-4c57-bdf4-9e89638c35d3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6c0921ba-4707-47c5-9dd8-1852906ff530)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/854a6023-e176-4027-a019-305af983a84d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1547083e-60f6-472d-80cb-e4796f39bcda)

* **y** is the **partial dependency**, we **remove** it from the **original table**.
* **y** was **dependent** on **x**.
* **x** also goes to the **new table** with **y** and **x** becomes the **key** of that **table**.
* **x** is also present in the **original table** also.
* So, **x** is common in the **new as well as the original table** and **x** is **key** in **one of the tables**.
* That's why **2NF and 3NF** always gives **lossless decomposition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a7477c0-0640-4260-94d1-6295869d53ff)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0e2af48a-73f6-4ae9-9c6b-71c780e0f267)

> First we will check **common attributes**, then we will check if among them we have any **keys** or not.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7fed8730-5e8a-4544-9306-0c5f563d5d40)

* **C** was the key in **R1**.
* **AB** was the key in **R2**.
* Common was **A**.
* **A** was not a key in **R1 and R2**.
* So, **Lossy** then.
* Doesn't matter with **prime attributes**.

## Dependency Preserving Decomposition

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8a2d5626-abbd-4e6c-bbea-8a9abc2c729a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d42c7c1e-5808-4d8a-b10d-1fa30b9efee2)

* So, **Dependency Preserving Decomposition** example.
*From the **union** of the **FDs** of **R1 and R2**, we couldn't get **D -> A**. So it is a **not Dependency Preserving Decomposition** example.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c4237fea-c83d-4857-9d55-0deb20a766f9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/279a7355-3336-4b5f-a94e-a8d81190c37b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3be8b4df-019e-4a0c-ab72-bda7cf46f729)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/da7c32db-9e10-4887-ba77-05bfbd3882e8)

* Not
* D -> C, lost

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0577fc14-865a-4367-98bf-e9d800722172)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dadf594b-b12d-42e1-a9b1-bc279f780000)

* Question.
* Option **C**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3edc9e38-44ee-4a5e-a06b-24084730d754)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf9099cd-287a-4ccf-ab7e-ed1ce6b75f87)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/84e7a534-adba-4c6a-86dd-10f0b8e3ee23)

* Question
* Option **2**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e67a6961-916f-4033-8f66-d49d925c58a4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ba5b0de-94b8-4eac-a7dd-e63d790d65ba)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e81e7c67-0b77-4c7f-bb43-5132a531e749)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b90e1d14-a4cb-4edb-8804-5998e7d2dc8f)


### Doubts

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82062142-d550-41ea-b536-aef2926e41de)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04bb2515-685c-4302-9357-3b159a843702)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ae9ba7ef-86de-461a-99ae-2953c8c6ee67)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/52bec4c6-30a8-428f-8771-3b2f0bfd95a0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d7629e8f-8a94-40ac-8331-6003161d058e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/35d0cd07-e62e-46dd-aa4e-e4f4b45268e8)

## relational-algebra-part-i (17) [11 July 2023]

## ER Diagram to relational model

* 1 Entity Set -> 1 Table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dfaaed53-daee-480d-98de-94606d231f81)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1f7b4b84-e9de-4ea1-a10c-210f8bef74f8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e9e2191a-c922-47bd-a8ab-11672827ef6b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eb969a0c-b02c-422b-9a76-7eca9b0fee1a)

* Using **both Eid and Cid** together we can make a **composite key** for the **Teachers table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a4de5671-30c4-4bb9-af7a-452c87f903ba)

* Teaches.Eid -> Foreign Key referring to **Educators.Eid**
* Teaches.Cid -> Foreign Key referring to **Courses.Cid**
* **No partial dependency** present in **Educators, Courses and Teachers** tables.
* So, all the **three** tables will be in **2NF**.
* **No transitive dependency** present in **Educators, Courses and Teachers** tables.
* So, all the **three** tables will be in **3NF**.
* All **3 relations** are in **BCNF**.
* Keys are in **LHS**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2379b0f8-47f5-465c-9a5b-595daa1c9040)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34641d9d-0c69-4c49-b93a-65c00eb7bc53)

* Option 2 -> Keep relationship information along with an entity set
* Relationship towards Educators -> 2 tables. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be4b25d9-9580-4bfc-b68a-397f8b13a711)

* **Primary Key** in **Educators** table is **Eid Cid**, combination of both.
* We will get **partial dependencies** because **Eid** alone can derive **non-prime** attributes **Ename and ESalary**.
* If we do **decomposition** here to remove the **partial dependencies**, we will get a table with **Eid, Ename and ESalary** and another table with **Eid, Cid and Since** which is **same** as the earlier(option **1**) one we created.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/23e2b79d-f61b-480c-bca5-c348852e4960)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/28876d6e-02d0-4113-8e2b-9a9697b62351)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3b28f668-0541-4886-92a0-7aa262c0815c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/732d4d78-c118-49b2-97c1-ee4d20b823ae)

* Problems:-

1) Partial Dependency
2) Cid -> Cname, Cfee 

* The above one is a **many to many** relationship , so the ***option '1'** is the **correct answer**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/96fdb2e5-b66e-486d-bea0-2b687b38bf3e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f195887d-bb48-4b5c-a278-0896a7446bf8)

* We have to keep **one stuent's information** only **once**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/12459bdc-c944-4208-8673-02876a1971c0)

* **Sid** is the **primary key** in **students** table.
* **Eid** is the **primary key** in **Educators** table.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b43e68a1-2b2a-413d-967e-f001b8594d95)

* **Eid** is not **primary key** and **too much redundancy**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c3efd3c6-7424-4de1-ae1f-1eb512ebf6b0)

* So we will go towards **many**, which is **students**..

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9974363e-ace1-4502-b8de-9d24bcbbf29a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/70e2fac1-ff6d-404e-a8cb-26ba5f38683f)

* There is **no point** of creating **three** tables when we can get the work done in **two** tables.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5bc1c752-2bb7-46d5-9a5d-735a0b4af887)

* FDs.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/55350ab5-32ad-4a8f-8ac0-957cd9b0ed88)

* **Sid** is the **primary key** in **student and Guides** tables.
* So, we can keep them **together** and make **2 tables** instead of **3 tables**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/344d7abb-6354-4152-9ad5-412e8faa28c8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b85e1457-4155-4be5-b707-8308add369af)

* **Sid** is **primary key**. So it is  better to keep it in same table.
* **One to Many** and **Many to one** is **same thing**.

### One to One Relationship

* It is will be in **2 tables** only.
* **3 tables** scenario comes when there is **Many** relationship.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/51952847-bf16-4012-8e94-99d6ff0c223e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a482b754-b0c9-4d42-847c-7eaee77bdebd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ffd9d3b7-4158-47a3-bc57-09a061025d41)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/643add7e-a490-4ce4-aa23-3aa5b86baaac)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82a85115-70bf-4b16-84ef-9077ba151294)

* Whichever side we will have **total participation**, we will keep the **relationship details** on that side only. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d276bd94-103f-4a72-b97e-0e51be1036a7)

* **Option 2** is better because license has total participation in **relationship**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6bf8e840-4a2a-4af9-b2a1-820eaf79d493)

* Keep **two tables** and set **guide_eid** as **Not NULL**.
* So **student** table will be **total participation**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/71953db9-c671-4b0e-bbdd-1688efc49a89)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/42ad1521-3119-4bcc-9bc7-61c0f27ac416)

* There cannot be any **department** without any managers.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/31fdee3c-60ec-4d5c-ae05-3944d26a102f)

* Many TO Many -> 3 tables.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d6b79876-7d1a-41e9-8781-38c33d23240a)

* How to control participation in many to many?

> **HW**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a8c7721-16c3-427b-9336-0829ae75d4d6)


* If there is **overlapping** then it makes sense to go for **3 tables**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/57326c7c-0af5-46af-bf80-5cc26dc3a0af)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/47a6807f-32e2-45b7-b75c-f8df4001a6c0)

* Overlapping
* Dis-joint.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e845a884-0d71-4e64-8de2-5d83d0ee97f4)

* Thre can be **multiple dependents**.
* The key can be a **summation** of all the attributes, **Eid Dname and Dbod** which is the &&key**.
* **Eid** cannot be the **primary key** in **departments table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3175b95f-8a2f-4482-8e5e-98017f211fe2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/83966abd-346d-471a-9656-961e7ac49643)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/38e1d08d-fcdf-46cf-a9fb-cec9fd9864d2)

## Relational Algebra

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/907e3137-701a-4858-b932-c587e8bf8686)

* SQL -> Non-procedural query language
* Relational Algebra -> Procedural query language

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a1e1ef6-882f-43a6-9a51-561a7495a973)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d597c546-d3e4-4ebd-8349-e6446dfc2949)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0c8e4910-551a-4201-ad95-450b8e526dcf)

* We will get all of the **rows and the columns**.
* Which **columns** we want?

> We want all of the **columns**. 

* We have to use **project** here.
* Without **project**, data will not be **fetched**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fa929a82-9f45-482b-864b-fd74dd73432d)

* We will get all of the **rows and the columns**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/749b0d21-c57b-408d-aeab-173544efcb85)

### Select

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e9f89f31-9215-4ddd-a897-58fb44b15e42)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/212f145b-47e2-42f5-bbbf-5d79f4a0dd2f)

* Example
* sigma(rating > 8) (sailors)
* Sigma -> Filtering rows.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4bb1a122-194a-4236-9e8b-42cf56c2c8c4)

* Find all sailors who haverating greater than 8 but age less than 25.
* '^' -> AND symbol
* 'V' -> OR symbol

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6adcd251-6d35-4de1-a4db-0394350f53d7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/93019435-b79f-456d-9b70-ddd180c2c742)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1b5e4075-4074-44ee-8e3d-85be7993a398)

* Comparison operators.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e6303554-7229-4110-b366-46a07d717baf)
 ![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/022e7c34-2d0d-44bb-a65c-387598e0a391)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e43f0553-584d-4d65-a974-1ef4662a834f)

* We are **filtering** out the rows based on **conditions**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fdc64a40-389e-44db-8235-2f9d41786a36)

### Doubt

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a9de2545-864e-4111-bcd0-136475c3bd75)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/92de1b1e-dda8-43f7-8a55-d0128ca40af1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73dd16fa-5411-4e63-add9-c6c397e746ad)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c5bd3142-100b-4e7c-8c57-9349e554a0eb)

* To get **BCNF** or satisfy **BCNF**.

## relational-algebra-part-II (18) [14th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/08e8f898-0dbf-4fd7-98be-16787281f2fb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9465eb9b-4003-4a4b-9afb-e39d392b5646)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f2778077-240b-48d3-be92-34665a2a3519)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/636ef0ce-fc79-49a2-923b-9a5531deeefb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/654aa1cd-fcd5-47d8-b65c-49365d643d0c)

* **select** filters rows based on the condition.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f5e37c7e-e83c-4b8c-a013-9452f9e9280e)

* **Same** as **where clause** in **SQL**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/81dd181a-207c-4c27-97ea-ca4ce6a4b9a9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a1b03e55-fc99-469f-a529-01cdcf690e0d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a7246fba-0ecc-4871-bc3b-23bb08a6e362)

* **select** is **commutative**.
* **^** -> AND.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/63f2919a-bd9a-4315-b71c-03810965c360)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/924309b3-a793-48b5-8767-b85d7a18d945)

* Find all products with prices between **15 and 30**.
* (Sigma) price >= 15 ^ price <= 30 (Products)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2a650117-4b7e-471b-842e-16660f688437)

## Project

* It is like **select clause** of SQL.
* It **eliminates** duplicate from tuples/rows.
* It takes only **distinct** values from tuples/rows.
* We do **project** at the **last/end**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0f07c4ae-4e1f-4a1e-967a-956536066a96)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/05ff3842-b965-4fad-84eb-cae2afa00d71)

* pie cname (customers)
* We will get **distinct names**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7d401f6b-746b-4939-a067-45c1e60ab483)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f0de83ae-97a0-4654-93c7-0643a0bc6a33)

* The **project** operation results in a set of a distinct tuple as the project operation removes duplicate tuples.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3afeaf74-9081-40e7-86ab-c6c5aec6e5ed)

* pie Ename, Salary (Employee)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a2ae8910-9770-4b95-8a7a-35e3e465e920)

* pie Salary (Employee)
* We are getting **distinct salary** which are **3** only.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ca65d8fe-d874-42f3-994c-8551ea6f5bac)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/65a4aaa7-ecba-4044-9d88-38bb5aee56e6)

* pie A, B (R)
* We got **combination** of the **distinct values**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2a383973-aca4-4cfc-b9c2-9f5f485f1be5)

* **Sequence** of **execution**.
* pie Ename (sigma Dno = 2 ^ salary > 17000 (Employee))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/12b05b65-1eb0-4de3-aa6e-4c3de8e152c0)

* Yes, fetching the records.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/67dd15ea-f87c-46ca-9b9c-746835d8bc71)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7809c449-9343-4c4d-8f3d-4dfb06375dd3)

* Yes.
* Fetch name and dno of all male employees who are having salary less than 30000.
* pie ename, dno (sigma salary < 30000 ^ sex = 'M' (Employee))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/048488a4-3a57-47db-8ea2-bbeccb9584e0)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b5bded8e-3a39-4441-8c41-479326d0ab52)

## Set Operations

1) union
2) Intersection
3) Set-difference

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/197612ed-7da1-4978-9828-ec83de9eb7ae)

* If we want to use a **set-operator** then we have to keep **two** things in mind:-

1) No. of columns must be **same**.
2) Data Types in the corresponding columns must be **same**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0ef63f1-d246-4fd0-92c7-ee884ae5ca0b)

* No. of columns and data types of corresponding columns must be **same**.
* If the **condition** are met then **any set operation** will work.
* Operations is performed on **tuples**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7b1f2178-0704-4d4c-a0a2-32e98116fba5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33ce46eb-51d3-48be-bbf0-91e464eba41a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/101736bd-e7e7-499b-97a9-1079f37dfd01)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0f795ef2-e95d-4d2c-ba75-f2d6301b4e35)

* The **whole tuple** needs to be **duplicate** otherwise we will write the **tuple** in the **union**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7e64a619-c10c-4dff-8660-3496886cd57c)

* We got the **distinct name** from **E1 union E2**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d598f68b-86c4-4007-a9a4-99b131e28808)

* We got the **distinct age** from **E1 union E2**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/25221163-e788-4560-92ee-a85da4bd2e86)

* Relational Algebra(RA) doesn't remove them automatically but **project** removes them automatically.
* There is a **difference**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ac519b62-886d-4118-bfe1-0543ac77d7ec)

* Question.
* (pie sname (sigma dob = '27-10-1988' (Students))) U (pie ename (sigma salary > 15000 (employees)))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/54c5458c-5d4e-415f-9377-35999f9864ee)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fbae307e-1fba-41c6-a3b3-736f1495f26a)

### Intersection

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76758c9b-0046-46f2-b175-5e0650b85c4f)

* Common Only.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f8b8291f-bf0b-47ac-b5a8-7e0a91f25cd5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/830082f3-a6a1-40dc-be01-3a8f3f0067a7)

### set-difference

* All those tuples of **E1** which are not present in **E2**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a33be5f8-6730-43e7-a123-ecb30a8078b6)

* E1 - E2.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7e570fa1-3ebd-4820-bf12-cfb3f2762c55)

* E2 - E1.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/251fc17e-565f-434f-8ce6-f26592e0869c)

* Union and intersection are commutative and associative.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/673266d9-9ec3-4242-ad4b-f6eee5df494b)

* **Set-difference** is not applicable.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9393eb1b-3191-4404-8154-b9275767d792)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/27b92e0a-b368-41c6-855c-dea0e7d100c9)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/864e01d7-7cf2-4eb6-b242-6cbc9d536bf4)

* **Yes**, they are **equivalent**.
* **Project** is **distributive** over **union**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0cbc7512-595f-4a0c-9241-f3f04229c184)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0325e796-b2d4-4f7a-a827-325de0faca66)

* **Project** is **not distributive** over **intersection**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/078c0313-ab73-4ce3-9c8a-324dd72c0659)

* Both are **not equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e72b2d64-590a-45b0-ad3e-a7827f2bd3e4)

* Question.
* (pie eno, ename, dno (sigma gender = 'M' ^ salary > 20000 (Employee))) U (pie eno, ename, dno (sigma gender = 'F' ^ salary > 25000 (Employee)))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82fa8f90-0895-4427-934d-e817413f6649)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e14ee10e-8c25-4c1b-bb50-378d1a5f6be9)

## Cartesian Product(Cross product)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cd4d0522-4669-4577-87f3-6f483514a6c0)

* Cartesian Product(Cross product) 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fc317b2a-3fdb-4dc0-80f8-3763bdcca7f4)

* Cartesian Product(Cross product)  -> pie A = D (R X S)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/67149430-829d-4e14-8460-4e0645bb4e3d)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/094ceb7c-af16-4109-81f7-705bd04b9801)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f04425e-f3e6-4c8b-aeb7-9e29745651d2)

## Joins.

* When we join **two tables** and we filtered out the result based on the condition.
* This is called as **condition or conditional join**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/667e5df9-e8e7-41d7-bddd-7d95c1e71073)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69ecdf5a-0fde-425f-be2d-fa7800ebfabe)

* In **conditional join**, the join condition would be **>=, >, <=, <**.
* There will be **no equal too(=)** condition.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f1c96bd-0eaa-4491-bbcb-bb91590c58d5)

* In **Equi join**, we are going to use **=** operator.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/af322074-3221-4e29-bc36-1b7b5d898822)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a63a919b-da49-4a20-bc50-f36b48979458)

* We will get **two** rows.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e35a6c14-dc43-4dd9-af94-834830e4a185)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e97fb0da-8574-4b37-860d-b6349f644293)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/da86550f-2d7b-4d98-9704-370d47306ceb)

* In **natural join**, we don't have to write any conditions. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7ee7ad5d-6b5f-4cf9-a605-5c642760c075)

* We  will write it directly.
* There will be **one common column**, the **column name** would be **same** as well..

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eb154919-e97f-4abb-bc26-ec42a1ba3e6e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d20067ad-9945-4186-9628-4fe2303a7b1d)

* The **Rollno** is the **common column** here.
* The condition will be automatically applied on them(common column).
* The **common column** name should be **same**.
* If the **common column** name is not the **same** then we have to **explicitely** write it. Like below.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f7ab5b99-f170-4bef-a481-2fd7f4152fe6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/980600a2-b4dd-465a-8ff8-4efdaf35d6bb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/334e9490-82be-4e98-9762-816296a2a9f5)

* **Implicitely equi join** is used for all **common columns**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7dd5ec53-0b90-43c0-842a-8f3100660e4a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e738f533-2b94-4478-9bb1-b64f7133e946)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/39251b6e-8a78-4895-a387-dcf4e9ed31f3)

* There are **two** common columns, **A and B**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/64dac596-4d87-408d-a912-f121d99cef71)

* Attribute/column name which is the **common column** does not have the **same name**.
* Then, we have to **explicitely** write the **condition**.
* Otherwise, we can write like **bnatural join**, no conditions needed.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/28c086be-44d7-4a21-8c24-9e20234a6cff)

* Question.

* pie cname(sigma shipperid = 3 (Customers natural join(damru) orders))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d2fefbe7-c9ae-4ae1-aec9-c059167f41b5)

* The **common column** which is **cid** has the **same** name.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/74700f0b-0cf6-448d-9865-3991f7a8cb79)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/68c6b02e-d101-4f0f-a92e-9c8573f34534)

## relational-algebra-part-iii (19) [16th July 2023]

* Conditional Join -> <, >
* Equi Join -> =
* Natural Join -> No condition. [The tables have the common column with the same name on both tables]

* In **natural join**, automatically the **common column** join condition is there. We don't have to write it. 
* In **equi join**, we have to write the **common column** join condition. The **name** of the **common column** is **different**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0dbe7c99-a915-4686-b6b5-ed379308b086)

* Question.
* pie dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ ccolor = 'Blue' (Cars (Cross join) Drives (Cross join) Drivers))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c7985e12-b4e9-4e9f-b6da-ba52c281fbef)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1f9d355c-29b5-4e84-a769-02b8aae70dd6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2065b931-710b-4b5c-bc4c-c7f575d34d97)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8c535634-47fe-4609-a855-7955a042f03b)

* Question.
* pie dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ (ccolor = 'Blue' V ccolor = 'Black') (Drivers X Cars X Drives))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/16f4ddbb-7dd8-42b0-a95d-5787ecd3e9bb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ee7492af-fd4c-4066-a0b2-ee872a3a590c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dcf8ccfd-3f55-4e21-9ce5-e6e4de986e26)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2d7fa7fb-f61e-46b8-8d93-1c9782b89b53)

* Question.
* pie dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ ccolor = 'Blue' ^ ccolor = 'Black' (Drivers X Cars X Drives))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0659fd5c-78fa-4ad5-a08c-cc8472fe03f7)

* (pie dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ ccolor = 'Blue' (Drivers X Cars X Drives))) (Intersection(U)) pie dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ ccolor = 'Black' (Drivers X Cars X Drives))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/245e7125-4bf5-4c30-a221-7b9da59e0a0a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/10032de9-4ab2-4838-bec5-1f95f449d2e4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ad9d0103-cb23-406a-93bc-b965f740c8d5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a42e0d4c-5aa7-472c-9d83-b105e2bd780d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f5692a80-cb2f-4fd1-9f71-69c5d9f9f21d)

* Question.
* (pie drivers.did, dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ (ccolor = 'Green' V ccolor = 'Red') ^  (Drivers X Cars X Drives)) - (pie drivers.did, dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ ccolor = 'Green' (Drivers X Cars X Drives))) intersection pie drivers.did, dname (sigma drivers.did = drives.did ^ cars.cid = drives.cid ^ (ccolor = 'red')

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/517a3b63-40a7-4029-9090-d7dac2d26fd5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fac53007-9a7d-4827-965e-f5b75204c289)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/db038dcf-d935-4075-b4c5-6332f9eefe11)

* Left Outer Join -> We get all values(rows) of the **left table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/01867e8a-3f17-4fe9-a507-e3c1b4b9814d)

* Right Outer Join -> We get all values(rows) of the **right table**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/db548a54-c492-4121-9fcf-d0b2c8d2702c)

* Full Outer Join -> Extra records of both the tables will come that do not participate in natural join.

## Rename Operator

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9a229353-8019-4b6e-8ed8-90ba2c2d4080)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7bdfe9c0-1da7-4009-b21e-a84085e10489)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0dfe051e-9351-4a9b-923a-788c0277c0a5)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/51189ac5-024e-4c58-972c-95881b797586)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/81f99207-bf0c-4294-a70b-7a63223e100b)

* When we want to **rename** the names of the columns as well as the **table** name.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/94950f89-b4a0-4aaa-b209-910e6f3b5b25)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0176612c-17fe-45fd-ac3b-766c831de768)

* When we want to **rename** the names of the columns only, we are aliasing the table as well but we are not giving a name to the table.
* New instance of **student table** is created. We haven't given a name to the table, we have just renamed the column names.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7fe652a7-724c-464d-9bdd-84573defda7b)

* When we want to **rename** the names of a **specific column**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6dcbc7fc-d71d-4c59-a386-c1987a8ed15b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/238ce0e7-30c9-46cb-9912-1daa05534584)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7cc3e8c9-3b59-4e0a-9b88-d9efab3c1c60)

* Sequential renaming.
* If we don't want to rename all of the **columns** then we have to put **arrows(->)** for the column renaming.
* Otherwise it will not work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/861cfb03-5618-44fd-88fd-15f19777a557)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/65435d53-000f-4636-8784-f3211e79546e)

* Question.
* It is conditional join.
* (name of all female students) - (name of all female students who have scored equal or lesser than any male student) -> name of all female students who have scored more marks than male students.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bae51f82-48bd-4910-bdb3-b036f52a814d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5b124aea-3b4b-4b57-9a91-4d1bbc99df9a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e50a2476-62ca-48e1-b291-faddbbbca7d1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/859f5fe9-6fce-459d-94af-1358b4a5cdf7)

* Option **D**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/50e8e46b-6f79-459e-86a6-08385835bd19)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aa18e0bb-3af2-42ef-984d-d453ad9cab79)

* It is conditional join.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/15e1b59b-c048-4904-86bc-8c4549d0f2a1)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/39136a2d-b519-4291-bc8c-dc19adfa8ad6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e49bf3b0-a292-40d7-b39d-9ba880a6c506)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7ba7c951-41d0-4e89-a930-385197089487)

* We got the **female sid** who have not enrolled into a **particular course**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7daaf537-7a4a-4ac5-a0a6-c8229175ad4a)

* The **cid** of **c1, c3 and c4** are the courses where some students have enrolled.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/95c6cab0-8ef8-46b9-9663-4532a38d7349)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a9992ed-c932-42d0-8c23-18a08872ae52)

* we will get **those courses** where not all of the female students have enrolled but some of them have enrolled.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/49aa39ce-da5e-43d9-8882-9ac207df5698)

* Option **B**.
* [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d87fabe9-f692-4034-96bb-75b4c3e73caf)

### Doubt

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a5b327ca-36f3-41dc-9b91-1fae868ae180)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/35225449-86ad-4d30-a3fd-468487c371e0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/552d8104-aae0-4832-99a2-3086c0c5e76b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c591d722-3a59-4345-bfb4-8ee614d177b1)

## doubt-clearing-session (20) [17th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6b4086eb-69dc-40de-ae49-491cbd02d350)

* Questions.

1) sigma country = 'Germany' V country = 'UK' (customers)

* As we want all of the customers('*' in SQL), so we don't have to write **project(pie)** here.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b7d95318-219f-46f7-b1c8-0140b6371367)

2) pie cname, address, postalcode, country (sigma contactname = 'Yang Wang' (customers))
3) sigma customerid <=19 (customers)
4) sigma country != 'Germany' ^ country != 'UK' ^ country != 'USA' (customers)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2d53aa4c-43b8-4206-973f-bb1511a1190d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3fdcc788-a137-4b65-8415-dc515e8f12d9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8ee76b12-ffcd-42b2-a9ce-a7cf601b2ce8)

* Set-difference.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/053db361-e0c0-418a-8771-5563c4ce0760)

* Question.

1) sigma supplierid = 1 V supplierid = 2 V supplierid = 3 (products)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8b2ad916-21b5-469b-adf5-8fa443d59042)

2) pie productname (sigma price >= 5 ^ price <= 25 (products))

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a7334037-740d-468b-86fe-9734a8056e73)

* As range is mentioned, so, it will be **inclusive** only.

3) pie supplierID (sigma category = 2 (products)).

* If supplier details needed, then use suppliers relations. We have to do **join** then.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f06d4091-1f6c-4e9d-9d5e-63e19ed53cd3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1771f832-cced-48f9-a13f-11e779a26271)

* We are writing **pie suppliername, address, city(project)** because we only want the **supplier details**. If we don't write **pie(project)**, then we will get the details of **products** as well which we don't want.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/56df551e-e3b1-4c2d-8719-67068d18c18d)

4) sigma supplierid = 2 ^ price > 30 (products)
5) sigma price > 50 ^ supplierid != 6 (products)
6) sigma price < 30 ^ supplierid != 2 ^ supplierid != 6 (products)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2535c839-d0c4-4d32-9a74-40c6f19a0245)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/524c97f3-331f-4696-9e1c-19d70ea4e10f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/94b28cc9-63d3-4a88-b0d2-8de984c4e58c)

## Division Operator

* R1 / R2.
* R1 -> Numerator
* R2 -> Denominator.
* **R2** should be **smaller** for good/smooth division.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6390583d-554d-42c4-b6be-762bbf4a1af1)

* It will work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f1ae5604-9937-4b0d-968b-2fbf935e64e1)

* It will work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fb31d33b-429b-40c2-bec8-2a84ffa71bc5)

* It will not work.
* R1 / R2 
* The result is the attributes that are not in **R2** but are in **R1**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a0b24bb-6cde-4ad8-9424-81639615726f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9be66525-0c30-47bf-99f4-7f77d489555e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91a89c1a-9457-467f-a0c7-68e03dc792b8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/57c92636-c7d5-472e-b269-ae109d751528)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8cef5b77-18a5-498b-9ba6-f311c863eb15)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b5ffca06-39cf-490d-bd26-82b786803c7e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/96d3bf6e-aa55-489d-83b1-2e49f371c129)

* Single value of **B column** associated with **A1 and A4** from the **R2** table's **A column**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e0b8488f-a241-4d5a-821f-2b1f10bd8862)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/28b36384-5609-4bff-9379-dd3b4b260e01)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d87fd0b-dec5-429b-a779-ec0d9cbbe8d1)

* **Division** operator is **for all**.
* After the **division** we will get **pid** but which **pid** we will get. The **pid** that are associated with every **prodid**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/25fc24b0-7b42-480d-90c6-93ab5b936e1e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1f97a244-0885-4e46-9439-5b5ace6a84b6)

* We want that **pid** which is infront of all the **prodid**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6ef2d40e-413b-48d0-86d5-f0cf16b65db9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b8a6a9fc-7c88-4b3f-b96d-af7d73778dc8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b645c9bb-3260-4082-a6ee-ef6a1900e002)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fa72f6a3-2a71-48a2-915c-3d2bca93f882)

* Division is possible.
* Result set -> StudentName.
* Those **student names** will come that are associated with **CA,CB and CC**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a753d6c0-0fdd-43a6-88f2-452d36ec4dda)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e79d065e-cedb-4383-b85e-ac20bcb90fe3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ba987728-0bda-4dc4-b8d1-f7bab263c4b3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fb6e3de4-09dd-43a2-ac90-0ff36a07da26)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f0c32046-1855-4aca-a01b-7994d0a1a572)

* Yes.
* CarID and Date should be **same** value with the **Cid**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2ebeb2f6-6e01-4b63-a077-3311527f5d41)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e3e2339c-3ea5-4900-952b-6c5957950462)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5492a93a-26d8-474c-8ade-ff4751fbf834)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d55baa3-4178-4bac-991a-4ad60b0922c9)

* [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bd149c8c-d4b3-469e-a50a-41e86af2d300)

* Women enrolled in a course question.

### Doubt

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/43522458-a7b6-4baf-9b9c-658c82e1ff2f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c551c2d4-847d-48a0-986e-d9c2ef9458fe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/66a82715-dba9-4d8f-b25d-c03aeb317ea6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9ceae00b-1262-4e09-b86e-a90316b3e262)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5bc71aaf-082a-49f8-b9b7-ab9d4af51435)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dc10e1b0-2496-4b08-a761-fe976bf3c163)

* The condition would be **True** for one row.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/743e696e-56fd-47d5-b4e7-2b0a7242a241)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73904c6e-516c-48fc-9147-d9120ac2823f)

* Will work.

## trc-drc (21) [17th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3dc005e5-d8a9-4f33-906f-d00a444aacfe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/37d90f25-832f-4678-ada0-74f0a862c05c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/469723ce-9656-441b-9452-ce8ca232cda2)

* RA -> Relational Calculus.
* Predicate Logic(P)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d1cdb951-1c9f-4d45-9724-6daab170bfc0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c99539c0-5251-4c3a-b989-4d1accf309cb)

* Yes.
* Domain -> Concentration on Attributes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b584a890-e51b-4b86-adcc-0659d78f8192)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3b6c9ccf-29b4-455c-afb6-5e6bca583faa)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aa6636cc-5fa2-4c06-9380-6494c2ec5d4d)

* Tuple -> Focused on tuples -> Bring those tuples by writing conditions.
* Domain -> Focused on attributes -> Bring those attribute values which satisfy the conditions.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bf4f570f-3a39-4dfe-8a7c-4261acf525bb)

* Relational Algebra is procedural.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf410ecf-4536-4dbf-88f6-cafc2c049b1b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c0e514e4-bd62-4f52-9a26-d3868e6e7796)

* tuple(t)
* t -> On the **left side** of the **bar** is the **tuples** we want to **select**.
* P(t) -> On the **right side** of the **bar** is the **conditions, from where** we will ge the tuples. Conditions that are satisfied by the tuples. [Predicate]
* t -> tuple variable.
* {t | p(t)} -> fetch all tuples(t) which are satisfying the predicate, p(t).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/94e48a0a-c66c-4462-bf7b-b6869b2c9547)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ccee4112-5483-40ba-b497-f64302738711)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/507ee3a4-3b37-43e8-9b13-74c722dc3036)

* {t | t belongs to student} -> fetch all tuples(t) which belong to the table, student.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f097fe4e-3c9a-434f-85f2-f665628b8f8f)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2df1a328-17df-4245-ba18-6e9feff9e003)

* To get a **specific attribute/row** from a tuple.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/541da373-f097-4662-b128-9118799aa619)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b2d86d6c-380e-49ef-a8c0-2a5ce96fabd1)

* We just want the **name** of the students from the student table.
* Attribute -> name.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86ccd9e6-7ff7-4703-82a1-20914d72dc4a)

* Full row is **tuple(t)** only.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8e9b4be2-2569-43d3-886c-5a1746dd27e8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b9bc3f45-5089-4089-bd20-385a909e4a71)

* t[name] OR t.name
* Both are **same** and correct.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/378b2e42-e2f3-4b5c-afef-b73b12817590)

* Separating multiple rows with commas(,).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d85eb689-378b-40d1-88ac-441cfcf09a81)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b62a4d9c-c1a8-4f8e-b38e-92087eb70a87)

* This is also **correct**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ebb3190d-cdbe-48f4-a3eb-cb49517229be)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d872e1e6-9230-486f-bb97-fdcd86c79ab6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9b3af1be-bd16-4a6f-b3b5-9e683cec85db)

* {t | t belongs to Shopkeeper} -> Fetch all of the tuples from the shopkeeper table.
* {t | t belongs to Shopkeeper ^ t.rating  > 8} -> Fetch the tuples where the **rating  > 8**.
* ^ -> AND
* It is like **where** clause in SQL.
* Find firstname of all shopkeepers who are having rating between 7 to 10
* {t.firstname | t belongs to Shopkeeper ^ t.rating >= 7 ^ t.rating <= 10}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aaf428de-2dd6-4da5-96e2-833366cd42d7)

## Tuple Relational Calculus

* TRC eliminates duplicate.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/77eb0e29-b474-48b2-b80e-7d954eb9d202)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e5cfe3b0-a084-4f51-a2f8-916fbc10b4c6)

* Select fname, Lname from students where gender= 'Male' and marks < 20.
* {t.fname, t.lname | t belongs to students ^ t.gender = 'Male' ^ t.makrs < 20}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b81db5db-2f71-4192-8ca5-102079109c8c)

* Find all such students whoo's marks are greater than 40.
* {t | t belongs to students ^ t.marks > 40}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf133a69-fe8c-4efa-ad7d-e6e0bb3239de)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9e1847f4-b192-4387-8756-ae18daa54838)

* Empty set because there is no any attribute age in relation students.

## Quantifiers

* Existential -> There exists a tuple(t), which belongs to relation abd satisfies predicate(p).
* Universal -> All tuples(t) satisfy the predicate, P(t) then only we can bring the tuples. Otherwise not.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e2b33b0e-5bbe-4050-9928-46f7dddf6d84)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/edae275f-ecd3-4dcb-a5f0-25ff626f6a73)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9beda293-7daf-405d-b2be-450071c02332)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/321d38ac-4c91-4518-afc6-a97d61172802)

* For **two table**.
* [**IMPORTANT**]
* {t | t belongs to students ^ t.Gender = 'Female' ^ there exists s {s belongs to Department ^ s.Dname = 'CS' ^ S.Dno = t.Dno}}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/240855ba-fc32-414c-b3b2-21f43c0efc5e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/837f7a72-1a90-4c82-988b-9aa786945228)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5bbaa7c9-ab28-49b0-be82-c750cd40c665)

* No.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0cd05c04-13a7-4789-a70d-2a66fea7ecf2)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/18d608f2-7caf-4da7-a7cb-4d9b76364249)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/68ab9f16-7ff3-4ec7-a3b0-ba77b7015677)

* Question.
* {t.Dname | t belongs to Department ^ there does not exist(~) S {S belongs to Students ^ S.Gender = 'Male' ^ S.Dno = t.Dno}}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c9bc853a-de3a-4cf1-b087-d437d146aa18)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/db1422a5-df68-42bd-b2f3-b27649129769)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a5fb8937-178b-4035-b3da-ce045fe69b3a)

* Symbols for AND, OR and NOT.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dea1f887-ec5d-439b-8c03-d130ead2ec95)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cc0fa27c-3a18-4784-a415-6721e83ac3bc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9b60662f-ca6f-4ef8-84b3-90c8a987626c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7f1eceb3-df26-468b-88fe-55f7ab70330c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/638a79c4-7e6c-4bb6-9578-2db22686ef0a)

* Question.
* 3 tables.
* {t.cmodel | t belongs to Cars ^ there exists D {D belongs to Drives ^ D.cid = t.cid ^ there exists E {E belongs to Drivers ^ E.dname = 'Mitchell' ^ E.did = D.did}}}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5f00f1cd-6870-4856-9001-9683975b0138)

* Whichever is asked first in the question that table comes first. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0faf45e5-9fbc-41ac-8c3f-0b3eebab0d1b)

* In general, when we have to do **joins**, like above, then **there exists** is fine. It will work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/089695a7-961f-40cf-b4c3-ceb37310c218)

* [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3b11a4a3-36b9-4af2-998c-9d30ae527f69)

* It is **non- procedural**. It is like a sequence of expressions.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1e150600-fc62-436e-a79f-9d31504ff496)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9e856a8b-f90f-4e82-b9b0-6a1650df8b4d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/23e071e0-1efb-41d2-86cb-4ae758cb1fd2)

* Question.
* {t.sname | t belongs to Student ^ there exists E {E belongs to Enrolled ^ E.rno = t.rno ^ E.duration= 2023 ^ there exists C {C belongs to Courses ^ C.cname = 'DBMS' ^ C.cno = E.cno}}}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4d9d2d23-f77c-449e-adc9-989cd66cd6b0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/59c15282-9bec-4722-9212-759dccdfc22d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ea18894c-9516-4c60-8a0f-0957d2faa631)

## Tuple Variable

* Bound -> Where we added **quantifiers**.
* Free -> No **quantifiers**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d9415567-640c-4775-aa9f-a11cb0db1a9f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c00a0e13-68a6-4465-974b-cb7ac8f98182)

* Here, we have to write the **commonn table** first.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/47a58f6a-b8c9-4c4c-8d93-c7d9bf0de7bf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/df5e500b-0fa8-4100-b005-b14bfae74f79)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/53b92e7f-0769-40ae-b2f4-8cad07495499)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/77ec15f6-2348-4175-9eb6-b78413bd6e28)

* There Exists -> The combination between the rows should match.
* For all -> There should be combination with all the rows on the right hand side, with the single row on the left side.

## Domain Relational Calculus

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be7f930a-c8fe-40ba-929f-4580485703e9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/852edf4c-8219-4179-9f6f-dbf4dda1e8d3)

* {<r,f,l,m> | <r,f,l,m> belongs to Students}
* **First part/left side** of the **|** bar is what we want.
* **Second part/Right side** of the **|** bar is the **conditions**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9693ae68-8a49-4e6f-a1b0-dd71f105c6cf)

* Similar to select * from students.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a997153-b8b4-4b30-ab89-bad9f6e29ae2)

* We just want the **first name** of all students.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/926845a2-1baf-48ca-9bd4-2975ae0b11bb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/14c3561a-325f-45ab-9899-048cc59b0ac9)

* We want the **first name** of those students who have **marks(m) greater than 90** 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9aba1e26-b156-4d1a-8dc8-31e3081b28df)

* The table name we have to write always. All of the columns names we wil also write.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6530bb64-65ff-498e-9836-8e15e3911c69)

* Yes.
* It shows the particular attribute.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/04f7da53-7657-452f-bd48-d74849d1d083)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/42fb5390-e0fd-4131-ae3d-f4b7247a4d02)

* Question.

* Name of all such drivers who are having rating > 8 and dob = '27-10-1988'
* {<dn> | <d, dn, r, dob> belongs to Drivers ^ <r> > 8 ^ <dob> = '27-10-1988'}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/209c8b19-7ea8-4124-bf51-3a64de6e80c9)

* We can write the **variable names** same as the **column names**. Just remember to **maintain** the sequence of the columns in the table. They should come in **sequence**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72a13826-82dd-4b49-b625-669446bd38f4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2d77efc2-5204-485d-bba2-f3577424476f)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8c426a7d-84bb-4c1e-84c3-8283d8952eee)

* [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5020ee02-6713-4b76-abb8-a96a10191a44)

* If we have one/single value with **equal too condition**  then we can **replace** the **domain variable** with that **number/value**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/239c8103-9d6f-4468-8bdf-3c5c81b9144c)

* We can do this in **equal too operator** only. Doesn't work with **>, <** operators.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d81592c-1587-4fe6-95c5-60d0ce5143f7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6468e2ef-dffc-4540-9225-e89ccdaa4a00)

* Question.
* {<rno, name> | <rno, name, lname, marks> belongs to students ^ <lname> = 'Kumar' ^ <marks> > 50}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec8d4260-d9be-4e51-b9be-6354c4cb09a7)

* Both are **same** and they work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c0f84a4f-c6ce-4fc2-9eac-ed72a343e66b)

* Question.
* {<cid> | <accno, cid, amt> belongs to Accounts ^ <amt> > 50000}

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b59072a9-69fb-468c-a01e-9e885418d424)

## transaction-concurrency-control-part-i(22) [25th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/75adb8be-752e-4e49-8d74-0b5d9c6d29c6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2542afe3-ac34-4f3e-84de-124c4a2c350d)

* Many to many participation contraint

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1713a586-d008-4e7b-8e36-fd8b40a7a66e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c4a272a3-8dfd-4d54-a79d-f6721b1382f0)

* We cannot control the **participation contraint** in **many to many**.
* We can control the **participation contraint** in **one to many, many to one and one to one**.

## Transaction

* DB operations -> Read, Write, Update
* Sequence of **DB access operations** is called as **transactions**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/253f5431-e332-4e2d-a85e-05b9baac234a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a17e2d6c-be23-489a-a10d-7adee29c97b0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/23cda37c-fdf1-4f24-a022-159af7db60f3)

* Transaction -> Sequence of **DB access operations**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/83fbbe4e-a487-4de6-aea9-42e0fb4f41f4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cc57e29b-98af-4cf7-aa3a-2f92a75c5dd8)

## States of transactions

* Commit -> To save the state of the transactions.
* Rollback -> Revert the database state to that state where transaction has not even started. It will take us back to the **last commit**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/31fb0b25-9bcb-4d28-b835-95575205d078)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/514becc6-3ff5-4a56-ab13-e6ba62e0291e)

* As there was **rollback** at the end, so we **reverted back** to the **last commited value of 'x'** which is **5** that's why we got **x = 5**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bfb6308d-1563-45dd-9299-d6bbe3173739)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0443318f-30eb-4334-90eb-37e00dd220d9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4ebf7528-2e79-4ff0-97fe-8fc23159f374)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/637a64ec-7045-4158-9a58-e9e93fe4e446)

* States of transactions.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d13d15f-0bb4-48cb-b3d2-b48a3c442320)

* If a transaction has **failed** then it has to be **rollback**. It is not the job of the users to **rollback** the transaction. It is the job of **DBMS**.
* The **rollback** of the transaction is done by **DBMS**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fdd7a61c-a914-4b13-bea4-9c18937942f7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f16c111a-cc58-479a-bc6f-e2df07eee297)

* If the **commit** was successful or the **transactions** were committed.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a0d4e4f4-5d04-44e1-bc7b-ab1cc99ee1e7)

## Schedule

* Collection of multiple concurrent transactions.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/be44ec5c-a42e-42af-82f5-644444865ed5)

## Concurrency

* Parallel -> 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f437bb4-6de3-42f3-8755-481617b9451d)

* Parallel work.

* Concurrency -> 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cab3f88b-46ef-4e70-9ea3-034fc6fa6b5e)

* Concurrency work.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bcb305cc-f3c8-415b-ac6f-0f4d5bf73dd8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/67aa6bdf-25d9-4b8d-975d-3bee752b6ec1)

* Parallel and concurrent run.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/98e23125-0dab-40be-ad12-330b9c372028)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d0d33718-10cd-457d-a806-c8a21568b00e)

## ACID property

* ACID -> Atomicity Consistency Isolution Durability

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/716bc833-bb6a-4ff3-bf68-22a7a5b1ec84)

* Atomicity -> All or none. Either it will run fully or it will not run.
* Consistency -> Expected output/result from DB.
* Isolation -> The concurrent transactions should run in such a way that they provide final result same as they were running like one after another.
* Durability -> We should be able to see the results for a long period of time.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fa889876-c4b6-4dd4-b439-5242c0009841)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/64b09c7d-04e9-42ca-9a42-874b053a9082)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/858ff819-2eae-486c-9665-5847a6dacff5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2f363df8-e1e6-4a7b-82be-8aafaec2a274)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91775214-bcb0-4694-a51a-07801a9494a4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d63d75aa-3384-497c-8a39-3a513260a191)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f935571a-2e76-4761-a330-6a43a6c7da1b)

* Why Concurrency

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f288361-9ddd-4daa-b30f-4e8fa8cda159)

* Problems with concurrency

## Dirty Read or Temporary Update Problem

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f31aaef6-d28b-4491-9ccd-08c8249ce7cf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed93224b-27ff-4153-8bc5-6a9fa3256181)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dce38738-9a4a-44d5-bc5f-d8150c5832ff)

* Reading someone's dirty written value.

## Phantom Read Problem

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e4253d4e-0f66-40da-af00-8bb1d5bcba12)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a96a3174-89fb-49e7-a1a8-9f2bc583750c)

* Wanted to read again and the value was gone.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4f445602-9a0c-4646-865a-dff7dcb9481a)

## Unrepeatable Read Problem

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8e5f7868-a2c7-4d47-855f-0067a062c25f)

* When **reading** two times, we got the **old value** once and we got the **new value** the next time.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6760824c-992b-49ae-86a4-df87a0a4e0a6)

## Lost Update Problem

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ed7b0c8d-7fb9-477d-bbed-0e6902174be1)

* **X= 7** is **lost**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/52cda366-a354-436f-8b42-34c4647a44b6)

## transaction-concurrency-control-part-ii (23) [27th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/72ca1590-fbf8-4379-862b-07312f753aa3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2ccc7537-f4d1-4635-86c8-7ce19ffc0b74)

* Some transaction **directly** writes and does nothing else, nor reading or updating anything then it is called as **blind write**.

## Good VS Bad schedule

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c0ae47c7-a652-445f-a88b-25db8a9d4fa1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c0c9414d-ba51-4733-b93a-79856678c7bf)

* Good schedule -> Final result as expected.
* Bad schedule -> Final result not as expected.

## Serial VS Non-Serial Schedule

* Serial -> Sequential System.
* Serial -> First a whole transaction runs then another whole transaction runs. We are not talking about which transaction will run first. Anyone transaction's whole statements are completely run then another transaction's whole statements are completely run.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/77882efb-5eeb-438d-8d18-d1bf047b1f68)

* Non-Serial Schedule -> Also called as **concurrent schedule**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ea1486fb-1531-403e-ad52-0e11ca0d7615)

* They run in **interleaving** manner. There is no manner/way in which the scheduler runs, anyone of the statements can be run at anytime. We got no idea how the statements are run.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/da78cfe3-4293-4cd3-b54f-70216ac1d5b2)

## Serializable Schedule

* It is a schedule which is **concurrent** but it's final result comes in the way of **serial schedule**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f7e49ef-bf26-4d8f-9c63-bba5b02a5df4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44be51e1-3dac-41a9-ad33-8831d1d26946)

* A concurrent schedule which can provide final output as a serial schedule.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/24ec8800-f183-4629-b058-8dc6ce920f2a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82cdeb8c-035a-4360-8b64-268d8a3e2742)

* Serial Schedule, **rune T1 then T2**.
* We are getting the **same output** as a **serial schedule**. So, it is working like a **serial schedule**.
* Serial Schedule, **rune T2 then T1**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/30fef9aa-c29d-4b2b-9f01-d5afdb55cfae)

* So, it is a **serializable schedule**.
* X= 5/10/20
* Y= 5/15
* Cocurrent schedule -> X=20, Y=15.

* X= 5/10/20
* Y= 5/15

* Serial Schedule, T1 then T2 -> X=20, Y=15.

* X= 5/10/15
* Y= 5/15

* Serial Schedule, T2 then T1 -> X=15, Y=15.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5b0d7702-5653-4551-bce1-2415840298cd)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/98cf1c92-bc03-468c-bb57-bd9663b9ad6d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0b646caa-da52-4dd8-b6ee-e3b5d2bedd6e)

* T1 then T2

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2cf1204f-0779-4a19-b4ec-089eef80ddf3)

* T2 then T1

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/df3222bc-4b33-45e2-89e7-41d949c8bc83)

* It is **serializable schedule**.
* As the **concurrent schedule's output** is matching with **one of the serial schedule** outputs which is **T1 then T2**. That's why we can say that the **above** is a **serializable schedule**.

* If it(concurrent schedule) matches with **anyone of the serial schedule output** then it is a **serializable schedule**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4c2791eb-1865-4184-ab0f-d56f820484ee)

* Serializability -> Method to prove that a **concurrent schedule** is **serializable**.

* **Types**:-

1) Conflict Serializability
2) View Serializability

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0760205-cf46-4e1f-adf5-d6169b116785)

## Conflict Serializability

* Find conflicts and then based on it prove that a given schedule is conflict serializable or not.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7ce471c1-3cc4-40ff-be3b-e6f22dfe8c69)

### Conflict

* Two(2) database access statements are conflict statements if and only if all of the following conditions are satisfied.

1) Both statements should be in **2 different transactions**.
2) Both statements should access same data item.
3) One of them should be a **write operation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f271d67c-d3ff-49fb-bacc-b830d4351746)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a1f055b-deb8-4c31-8cde-425c426e647f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/53d8493a-4329-40db-9948-9fb5e1d46753)

* There will be **no conflict** between **two read operations**, which is **Read to Read** operation.
* **Conflict** will be between **Read to Write**, **Write to Read** and **Write to Write**. [**IMPORTANT**]

* When **checking for conflicts**, we should be checking the **below/bottom** statements than the **above** statements compared to the **current statement**.  [**IMPORTANT**]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fdeb39be-320d-4f81-845b-93537fcb4c54)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cec40dfa-7e1b-4d82-a8c8-4fa2a4c62ca6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/264cfabb-46d5-4bff-b8ba-57f0938f83fb)

* 2 conflicts we got.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8777db71-5bb1-4d31-b3ee-ded82cd7df32)

* 2 conflicts we got.
* R(X) -> W(X)
* R(Z) -> W(Z)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a45ce0b0-d05b-453c-906e-7e2e01c82c4c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8da619db-9b86-43b2-80be-0eaae5c8c132)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d777812d-bf27-4f5f-82c7-fcd6b478b50b)

## Conflict Equivalent Schedules

* **Different schedules** where we have **same type of conflicts** on the same data items, same sequence.
* **Two schedules** having **same conflicts** in the same order. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7996649e-24c1-495a-95fb-f6b8fdde4b4e)

* **S1 and S2** are **Conflict Equivalent Schedules**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ddf25749-01e6-4015-ac03-747d4c1d3700)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0f642104-3f40-40f3-beb3-6cab9573014b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/83041ea2-3c93-41cb-84a3-63f3b7983844)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b08c685d-d736-4e98-88b4-e86b59ff0364)

* Not **Conflict Equivalent schedules**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2713486d-4a7f-4891-98b3-8c3e2975b447)

## Conflict Serializability

* Given schedule 'S' is conflict serializable if it is conflict equivalent to  S' .
* Where S' is a **serial schedule**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6a47b5b1-8028-489d-8e69-7182d6a9078f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f1587f88-486e-499d-a1a1-70cdfbbd8212)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7a947071-0b2d-4ce3-b6a7-060b0a95f4c6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7c2c14f3-14b3-48ca-98d3-256006ff229a)

* Conflicts.
* Precedence Graph -> Directed Graph.
* Vertices/nodes -> Transactions
* Edges -> Conflicts.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a140167d-831c-44cd-bba3-dc215b7ba60c)

* After drawing the **graph**, check if it has **cycles** or not.
* Cycle -> Started from an edge and followed vertices and was able to return to the starting edge. Then it is a **cycle**.
* If **cycle** present in graph -> Not cconlict serializable

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1d7e411b-94f6-46e7-99e3-4fd49a173ff8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1879b915-1f6b-4370-86be-1709fa929bb9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/68f803c1-d1e3-4390-9dc0-cc954eb05362)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/37d7141d-94aa-4dea-a700-1319f915b7d8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/53f6492f-0bf3-4626-8ebd-b21c5d46d408)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6fa71fdd-81f0-41e7-97cd-3b4dbaf2d3fb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2ef16b10-3669-4515-b34e-554908dd355c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/564462f1-4ad5-4735-b299-34804a46bf6e)

* As it is **conflict serializable**, we have to tell the **sequence** also.
* Sequence -> T1 -> T3 -> T2.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a4ac1d03-4d43-4527-a477-40cfc12e5a04)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fe79d274-3b06-45ba-8fa2-45a71e1ce83b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d6f75b15-22c6-4bc0-a308-61efe239713a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d4c7b89c-17cd-49dc-8f8c-e0918b23a99f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1e941233-f0cb-4dde-aa8f-5347a47f04a6)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5b8cf1b2-dd1d-4bd4-9349-267250b44a5f)

* R/W -> Read/ Write
* Number -> Transaction Number
* A, B, C -> Data Item

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dda7fb69-53bf-4644-b124-0ac6bb9abee6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5b764bd9-7507-4e76-8090-f2e295197740)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d37bc5c6-f508-49dc-b8e5-8819086cd72c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/08a9aff4-0899-4dde-96cf-9e2d2280ecd5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/815aa2d7-3952-43e1-b234-a3e1b1609cbf)

* Wherever **commit** comes after that we don't have to check.
* No checking after commit for **conflict**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c76fd755-0023-4422-a1e7-96154a0bd112)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1405bdd4-53b2-4704-a0fb-15660c2cfabc)

* No Cycle, so conflict serializable.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/25d8e2d3-4458-4344-ba99-8a102011aeb0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/82931b72-c86b-4f7f-8a7d-c97e7d7f3ad7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/53d8493a-4329-40db-9948-9fb5e1d46753)

* There will be **no conflict** between **two read operations**, which is **Read to Read** operation.
* **Conflict** will be between **Read to Write**, **Write to Read** and **Write to Write**.

## doubt-clearing-session(24) [28th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/41eb7dd6-adc4-4568-83dc-f5cd2bb27bbc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b9c3bc02-7065-4193-b749-f82dc98b273f)

* Question

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/764cec61-de73-48e4-9c4e-70a21bd130dd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fcf68806-4b53-4373-8ba8-db1593d87344)

* Answers. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a690929-c041-4a1a-8f53-f89c2cfc87ca)

* Doubt.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7951f58e-23e0-4d84-897c-4e779e662671)

* Doubt.

## View Serializability

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5da40bec-7708-4e51-8510-17acde93c426)

* There are **many good schedules** which we couldn't identify with the help of **conflict serializability**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1994c6f3-39b5-41ac-8040-f0ff4d44dd7c)

### View Equivalence

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0886c0a4-7829-4afe-afbd-78e2ad2774ab)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/30a8f50e-4e61-4c84-a833-15308ea5b7b9)

1) Who is reading first from database

> **T1** is reading the **X** value from **database**.

* **T2** is reading the **written value of 'X' by T1**. It is not reading the original value of **X** from database.
* Who is reading first from database?

> **T1**.

* Who is reading first from database? -> Who is directly reading the value of **X** from the database before any other **transaction** writes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/41f5db02-07c8-4bd8-998a-6a568d642538)

* So according to the **first rule**, we will say that **T1 and T2** transactions have read first the value of **X** from the database. It is because **T2** has not used **W(X)** which means that the value of **X** has been **updated** from the original value.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fa6d303f-1146-48a9-9d14-6e43745a588f)

2) Who is reading from other

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b89170fd-3524-4084-871a-779f33d555fd)

* In this **T2** transaction is the one who is reading from **T1**.
* **T2** reads **X** from **T1**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d41fe5d-82b1-4ecc-b694-9457205355a7)

* T1 reads **X** first
* T2 reads **X** from **T1**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c549c69c-d55c-4497-bd1e-21ba6ceac8a8)

* Who is reading from from database? 

> T1 and T2.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ef8ef139-852e-40c0-8019-c9b31b88a1bd)

* Who is reading from other?

> **T3** is reading from **T1** as **T1** has last written to **X** before **T3** tried to read **X**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/42798d00-d0ec-49e3-86cc-195fd3c04898)

3) Who is writing last

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/51c48214-032a-4846-a383-1c1e54287176)

* **T1** has written last to **X**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/24f293da-6226-48de-8e02-cdaf3b94881e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8904395d-f357-429e-a11e-f486fff78edb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/77a20523-a1ef-4382-a93a-f89476314760)

* **View Equivalent** -> When both schedules S1, S2 are following same all 3 points for all data items(Above 3 points).

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/57ebd05b-df18-4e5b-9a7d-a673339dc43b)

* We have to check if they are **view equivalent** or not.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d118a3d3-6eaf-4df5-b933-1bddc746fe84)

* S1:-

1) T1 reads X first from DB

* S2:-

1) T1 and T2 reads X first from DB

> As they are **not the same**. So it is **not view eqquivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/785823cd-6be4-494b-ba54-2996f2aac149)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/42b16b71-a204-4b08-a9e9-1ae430c8f073)

* Yes.
* If anyone of the **3 conditions** are violated then it is **not view equivalent**.
* All of the **3 conditions** are to be **matched/satisfied** for it to be **view equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8abcdcf2-c131-4fd1-befa-a0e9fcb912a5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44d9acfd-3d20-44be-9ddf-48d34260ad3a)

1) T2 and T3
2) T1
3) T2

* All of the **3 conditions** are to be **matched/satisfied**.
* So **S1 and S2** are **view equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/483e574a-4741-48e4-bf22-75c74ec2c4f4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e4419a35-701f-463c-8376-8ed0068e2c88)

1) T2 and T3
2) T1
3) T2

* All of the **3 conditions** are to be **matched/satisfied**.
* So **S1 and S3** are **view equivalent**.

1) T2 and T3
2) T1
3) T2

* All of the **3 conditions** are to be **matched/satisfied**.
* So **S2 and S3** are **view equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dbf85b04-023a-42b8-b0e5-e2e230d0d47a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/217f8f9d-b407-4198-9992-3284560d7e87)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec660413-79a0-4c0b-a193-510900f70b1b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0a978a4a-5609-4499-8bbe-9e0a5e1ab65a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a2d269be-a89b-4a97-9066-215320b6a9dc)

* Question.
* It is **view equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bd8b7c97-3572-41f1-a815-aca1b62b2e43)

* Yes, we have to check **9 things**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3826def8-45db-4ffa-8fe1-16964d7a293f)

### View Serializability

* A schedule is called as view serializable if it is view equivalent to any serial schedule.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4025f720-38ec-4a64-b64f-2a42b5139706)

* We have to **try multiple times**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3f0c3bf6-c926-418f-a4ba-c168cf181518)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/10f71e16-2a74-4b65-b9dc-efed9ee2c04f)

* Question.
* **T1 and T3** cannot come after **T4**.
* **T2** should come after **T1**. **T2** has to come **immediately after T1** as there is **W(X)** at **T(3)**.
* Otherwise **T2** will read **X** from **T3**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f282c05b-7faa-43fa-aab0-998225cf6a0b)

* We have to make a **serial schedule** of **T3, T1, T2 and T4** and check the **view equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3cb75dfd-1f06-4ed1-a2c9-1422dd338e29)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/655eb2f0-1bd2-4b52-8c0f-c49c94632992)

* Yes it is **view equivalent**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7c2ce723-073d-446c-a98c-897632506485)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a14d8bc2-e645-47a1-a2fb-63f9009d3df9)

* It is **view serializable**.
* The **given schedule** should be **view equivalent** to **one of the serial schedules**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e0f4df80-d46f-4ac2-818a-a31399181c85)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/547369f3-731b-4298-9649-369015bff64c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f554f767-7dcd-41d6-b056-c03b5d96cd2d)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8461a487-9760-48a9-a6bc-0133f85125fd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4b1c8209-1b45-410d-b269-36fbea8a8755)

* We are not able to make a **serial schedule** to check **view equivalent**.
* So it is **not view serializable**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9cfb4b33-9456-4f64-88c3-74dd97ef5cbe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/90979da0-d9be-421e-b763-f24e2f7ca27a)

* After **T3**, **T1** should run because in **Y** data point, **T1** writes last.
* **T2** should come after **T1** as **T2** writes last in **X** data point.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ec0b5c1-b03d-41f4-8d8d-d054c6d5d1fc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/40db690c-e6ac-4df8-8216-c8b61b439f3e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c13a29f0-cac5-4ba5-9e0b-3e5127731158)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d8d25e22-6284-4cb3-825c-a33c7881b767)

* HW.

## Role of abort or rollback

* If **abort or rollback** is written in a **transaction** then we will **not include** that **transaction**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dd7ab5bb-e9f2-409c-a8cd-9399c09f0ed4)

* Do not include **Transaction, T1** above.
* Do not incloude transactiosn which are having **abort or rollback**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7088d24e-3cc3-4292-b49b-0bd259702f40)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f612c5bf-43b6-4d22-8b0a-37b3c4ba68eb)

* In the given example **T2 and T3** are **only checked**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ca677543-c689-4bd4-b799-fd7f1573c50c)

* Given schedule is **view serializable**.
* Sequence:-
* T2 -> T3

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c6482a34-eeb1-4616-a0da-f16e7de951bb)

* T3 -> T2 [Wrong]
* It is because **final/last write** is **T3** and not **T2**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ae140e5b-de68-4657-bdc9-30f6d90b320b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c1b0789e-fff7-4d74-93d0-ab801a46bd4f)


### Doubts

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4cfdc6aa-28a1-4304-965c-279d4fb745f0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ce8d1dcf-1ae0-48d3-9318-d7e658718c7d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/534bdc6f-754a-4bfe-a22c-6e4437a5251d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d81d485f-c122-40a0-8c39-3a048bd69e0f)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69a32ab8-8c7b-4463-974d-9b2d448a447f)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3265ba05-75c9-4146-8eae-e993869d999e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/abc24338-1ad0-4214-90b9-0c1b9c79a218)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8e81849c-497d-4398-96dc-5754eb87343d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/75e9d123-1257-4b5a-bc89-4f320ee1ce00)

* 100 outside is **easier** than **200** outside.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5eae5f6d-bf2e-4483-bf1b-a44614df51b4)

* Better possibility.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a283a1a0-8820-428b-97b9-9f7c250e995b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/880cff2d-1b56-42f0-bb90-b2da0121b085)

## transaction-concurrency-control-part-iii(25) [29th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9ec01d9b-0dfd-4c24-a086-d07d28ab4880)

* We have proved that a **given schedule** is **view serializable** then it is a **good schedule**.
* Not all **good schedule** are **view serializable**.
* All **good schedule** are **view serializable**?

> **NO**.

* All **view serializable** are **conflict serializable**?

> **NO**.

* All **conflict serializable** are **view serializable**?

> **YES**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d57f4c81-693f-435e-bd9f-5f89f94401b5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dcbd69a8-f46e-4dd6-ad7d-6dd8eab5ab88)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/565b9cc2-496d-4961-8549-ef2cd7fa66ac)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec46d2d4-0637-4f66-b01d-bab7a2e922ee)

* Not conflict serializable but not view serializable.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0461e32-3ed4-495f-9fd9-99d30a8fb9e6)

* No. of nodes **equals to** the **no. of transactiosn**.
* **Runtime complexity** to **find the cycle** -> n + |E|.
* No. of nodes(n)
* No. of edges(E)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5f5213c6-64fe-456c-b24c-e00bb92bafa6)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e6fbf052-922a-48b6-85c7-b85749557de9)

* Conflict Serializability

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/caf9c8d4-d14c-4d8e-8662-647be32317bf)

* View Serializability
* Time(K)
* * No. of nodes(n)
* **Runtime complexity** to **find the cycle** -> O(k * n!)

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f0b090ac-5528-4128-8852-935e264a2361)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b8bb53c6-a5f6-47f3-855b-0cc9882078f2)

* NP hard problem.

## Recoverability

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8359c8df-7b72-421d-863c-978d15ae9cd8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/45f554a4-ae05-4719-9e82-508a0301beac)

* Recoverable Schedule -> When no any committed transactions should be rolled back.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6d5b785b-7d70-4376-b638-cfa73de0fb5a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9d0304f7-d8c2-44a2-86ba-4ba47e33cf06)

* Not recoverable schedule

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/af3019bb-ccea-45a6-9a8c-577cd79dbefd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e4f81809-ccd9-42cb-b99d-396938c283ee)

* There is a **problem** that **database** will not allow.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf2dd7ac-1164-4adb-ad16-f525a7771f84)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3283bb66-28c1-4d73-8eb6-dd2ce05041d4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f4f890cf-aa85-46fb-af10-f86f014f0f9b)

* If **T1** failed just before **commit**.
* Not **recoverable**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34ec7e16-0a32-4d33-a335-0ef9af240f31)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ebb6af7e-e2db-4b2b-93e8-f98a0fbb38aa)

* If there is a possibility of **rolling back a committed** transaction, if **yes**, then it is **non-recoverable schedule**.

* It is **recoverable schedule** only when for any case/condition and for any transaction that fails then also we don't have to **rollback any committed** transactions.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ef9cb669-8a0b-426f-a490-fa5a1eb968fe)

* To make **recoverable schedule**, sequence of commits, should be same as sequence of reading dirty values.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/75ec5526-d6d8-4b8e-9b0f-ec0ec3135b00)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8b78debc-a8f0-4dff-a3c6-eca477df84fc)

* Recoverable schedule example

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8979513e-240b-4545-ba69-3feb1ddf7d50)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1b8ee324-f7de-4a84-93b1-864cfc9d30de)

* Correct.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a5c63686-2976-4553-adb9-ffa09e5b36cb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8418eb8-8350-407b-b4f1-77ee42f2e52b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/67b2ef56-c5c4-4a18-8979-9e15928f3df1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73bc4806-e3e7-4586-b638-6a94051aff57)

* Types.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e1b9fceb-c8c7-4522-b30d-2e345cdad6f8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5ef1b9ae-cdcf-4234-8f25-e1dfdc89556c)

* Cascading Recoverable Rollback
* If **T1** fails just before commit then **T1, T2 and T3** rolled back.
* If **T2** fails just before it's commit, then **T2 and T3** rolled back.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/60c24442-c4ba-47c2-9240-2f96b0716d8e)

* Cascadeless Recoverable Rollback
* When a transaction fails only that transaction will be rolled-back.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9cfc9156-52a4-41f2-b31a-284b1a84e9a7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7dbe427b-9a4f-4b86-b26a-a7d1cc4c22a0)

* Exactly.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6a8b1334-a34d-4920-9168-6f515da06e93)

* Question.
* Not recoverable.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b19cf594-df8e-49ee-829a-c71f88eb77d4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/41a9538d-d06e-4a7c-a02b-fb65dbf514e4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2245843f-eecf-46be-8efe-cb4c7acac8f9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/73ec973c-810e-43e6-beef-2279b5c5e6dc)

* Question.
* Recoverable schedule.
* Rollback -> Ignore that transaction.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/223e3f6c-9904-42e5-95d4-37d1714647fc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/99d4cf74-a660-4bac-a626-09762ebd2250)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cfc38ab0-8108-403f-b989-81c68d18d812)

* Question
* Cascadeless Recoverable schedule.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8aea5a17-c5e8-4e34-bf57-0dca068066e4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5f8df508-7e90-4628-a019-3dbf8368c3f5)

* Strict Recoverable Rollback -> The **second transaction** can **dirty read or write** only after the **commit** of the **first transaction**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5bcbf96a-8b26-48af-8172-3409c6ee38e2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/85a58464-2d2c-482d-a4d1-2075899ab490)

* Dirty read and write can be done in another transaction only after commit of first transaction.
* Cascadeless recoverable is also included in **Strict Recoverable Rollback**.
* If it is a **Strict Recoverable schedule** then it is also a **Cascadeless recoverable schedule**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/968ef928-4b8d-405c-8389-fd251ad56855)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8eda0bbe-f628-4aaf-9b02-98f7057d53fd)

* Recoverable schedules.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5853413e-3211-4043-81d4-13b3f78e0655)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34085acf-3875-4f13-b600-c8df5d40c3e1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b174d3e5-b193-4fe2-9fd4-3b017b0eb816)

* Yes.
* Recoverability definition -> It is dependent on **dirty read**.
* **Dirty read** -> The upper/ before transaction has **written** and the **next transcation** has **read** the value before it could be **committed**.
* If we include **write on write** then it becomes **strict recoverable schedule**. We will not do **write on write, read on write and write on read**, until the upper transaction is committed.

* In **strict recoverable schedule** -> If the upper/ before transaction has **read** then the **next transcation** can only **read** and cannot **write**. If the upper/ before transaction has **written** then the **next transcation** cannot do either **read** or **write** unless it is **committed**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c204cf26-9221-4f31-8ec6-be4cf600c7a5)

* The **conflict serializability** method we had cannot be used **practically** because for **practical** implementation we have to know the **future transaction statements** and the sequence of run of the transactions, which is **not possible**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/18c44082-7026-4ed7-9652-8dfec8bfddef)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f1bdb34-e292-43d4-a81c-81f4b21705aa)

* **Conflict and view serializability** is not implemented practically.

## Locking Protocols

### Lock

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/58acd41e-5294-4467-ad18-2b76bc331c6d)

* Lock
* How many locks?

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2a3d3cf6-f4ec-4dfb-8e77-b141e799487b)

* Yes.
* We can put **locks** on **different data items** at the **same time**.
* One lock for **each data item**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91feb8c7-ace2-4bcb-b241-6a1d76c870d9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9d60f685-41e1-48e0-b07c-9128fdb06426)

* It depends on the **operation**.
* If it is **both read-read** then there is **no problem**.
* If on a **database item**, the **transaction** wants to do **only read** then it will take **shared lock**. If the **transaction** wants to do **write/read both** then it will take **exclusive lock**.
* There is **no problem** with **read operation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4de32b82-d89c-44ea-9325-653a19eae7e7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/aad16528-0465-4a10-acea-93b60d5dbe62)

* Shared Lock -> For only read operations
* Exclusive lock -> For read/write operations both.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d988cd5-0333-4d15-b785-a9f6f05d1866)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a6ab92a8-9d74-4343-b901-69390ce7a2f8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3aac6c7d-2f0c-425a-8758-b3985ddc11a3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32161434-9925-4856-99c9-04bd0ff3757f)

* Lock_Ex(X) -> It is allowed only when **T1** unlocks **X**.
* **Shared lock** doesn't have **write** permissions. **Shared lock** has to be **updated** to an **exclusive lock** for **write operations**.

* **0** -> Available, Lock not taken.
* **1** -> Not Available, Lock have been taken.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33c05a59-9397-4a09-8f23-0891d936c7cf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ec37dfa8-ea42-46ef-9990-2d70564523a8)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fd612802-23fb-4984-9369-80985d9093c4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9220dcc5-a2b2-4995-9f15-b71de6abd951)

* Lock: Busy waiting

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0322e7ee-491c-43ee-bfce-1452efd2fbaf)

* **Busy waiting** for **exclusive lock** on **X**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34baeeaf-6356-48ca-b529-a2a6379983df)

* We **blocked** ourselves. When the **lock** is available, we will be informed and we can now take **lock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/34e3588b-e0b8-4e0d-bbdd-6010f14e15ad)

### Doubt

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/af2fad11-8b54-41a0-830d-e794c416cae7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/86694ac9-fcaf-482b-8e7c-edda1a502651)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/337dac21-7ead-4414-a7fe-2efcf64ece8c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/68b1e9a1-1e7b-4655-8e0c-95c94565db83)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/752d6b5f-0306-440a-b16a-152dbddbc7d2)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6b7fa497-fa89-41a7-a2b8-932125888059)

## transaction-concurrency-control-part-iv(26) [30th July 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/544ca703-5558-4867-8c2d-7b980a60307e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e8ee8ed8-9284-46ac-bf1b-792580ad4c59)

* We didn't get **exclusive lock** because there was already **shared lock** taken on **X** by **T1**.
* **T2** is in **busy waiting** state.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/811c733d-02ef-4743-afc7-4faee06c9ccd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/531292bc-a8f6-4dbd-abcf-540130c498ad)

* After the **shared lock** taken on **X** by **T1** was removed then the **exclusive lock** is taken on **X** by **T2**.
* Busy waiting -> The transaction will run continuously and it will try to acquire the **lock**. It will not be able to **acquire the lock** and it will keep trying again and again.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d14e71fb-25c6-44da-99e8-5ae9fcbcbc21)

* The solution of **busy waiting** -> Whichever transaction wants to take a **lock** which is **not available** then the transaction is **blocked** and it falls under **blocked transactions**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cd2a0a85-eaa4-47cc-85ac-adf4cb8a7bb4)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/38468964-9f4f-49e4-aea4-2dce7fbc64b9)

* After sometime, **T1** has unlocked the lock taken on **X**. As soon as it(X) is available, **T2** transaction is **unblocked**. **T2** transaction has come back and the two statements of **T2** are run.
* **T2** transaction didn't do any **busy waiting**.
* **Advantage of removing busy waiting** -> The unnecessary usage of resources of DBMS has been **saved**.
* Time is **saved**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91ca9aef-b517-4255-bfc5-2966c06945e7)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d538b38d-38cf-4343-855a-5886b2b6392c)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3150d46a-c596-4bd0-9796-9cde14130ea4)

* On the **same data item**, we can put **multiple shared locks**?

> **YES**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4790672d-bf5f-4572-9abb-526e64f50a30)

* **W(X)** on **T2** tried to take **exclusive lock** on **X** but it shouldn't take because **T1** has already taken a **shared lock** on **X**.
* So, the **transaction, T2** is in **blocked state**.
* **T3** has **R(X)** and it tries to take **shared lock** on **X**. **T3** is successful in taking **shared lock** on **X** even though there is a **shared lock** already taken by **T1** on **X**.
* It is because **shared locks** can be taken on the **same data item**, multiple times.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/658d4b49-3501-4ac5-be58-223e4068611e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7435c96c-6a03-43a0-9a0d-27fec87c8c81)

* **T1** has released it's **shared lock** on **X** and because of that **T3's shared lock on X** is also gone. Now, **T2** is **unblocked** and **T2** can take **exclusive lock** on **X** now.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/65c9a98b-cd90-4ccf-a927-36574389a7f0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/13e29cfe-115c-413a-8744-43dea4af987c)

* So now, **T3** has **shared lock** on **X** and **T2** has **exclusive lock** on **X**.
* This is a **problem**.
* If **two shared locks** are taken on the **same data item** then **no. of unlocks** should be the **same** as the **no. of locks** taken. As in here, **two shared locks**, so **two unlocks** should be there before **T2** can take **exclusive lock** on **X**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e654e68d-f1b3-4f74-bdaa-bf51185a8631)

* When the **count = 0** then only the **lock** should be actually **unlocked**. After that only **T2** transaction should be **unlocked**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cf1105cc-2a40-4f25-9df5-45e43b1f4846)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b7125b61-8136-4fe8-8fb2-9af0c5a37f56)

* Blocked transactions is unblocked only when **count** becomes **zero(0)** for **multiple shared locks**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0ce0935b-acfc-43b0-bd0e-15816d5ecd98)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/7a5be5ce-0774-403d-9bf4-b30ceff2fbd9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d9e5428-8992-4925-92cf-024bd25ef946)

* Here, when a new transactions keep asking for shared locks on **X**, then **T2** may **starve**.
* There is a **solution** for **starvation**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eaff4c4d-8682-4937-b4bf-ef954fb694f0)

* When **T4** tries to take **shared lock** on **X**, then there is a **condition check** that happens. If no any blocked transaction on **X** then allowed otherwise blocked.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1ad046e0-f961-4cb1-9879-75fb82677f54)

* We are checking that there is any transactions that are in **blocked state** due to **exclusive locks** that are taken on **X**. If so then **shared lock** cannot be taken and the transaction trying to take **shared lock** will be **blocked** as well.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/87e98f09-8d40-4e6f-8ac2-c5afaf1b8001)

* If **T1** transaction has **unlocked** the **shared lock** taken on **X**. Then there are **two ways/cases** which can be taken. Either **one of the blocked transactions** will be **unlocked** in **FIFO order** or **all of the blocked** transactions are **unlocked**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/20fe630c-801b-4470-b114-4c5f2b379d34)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f410fb49-9d68-4d1b-8526-f2a3733e7772)

* Upgrade -> The **shared lock** taken **X** and now that **shared lock** has been **upgraded** to **exclusive locks**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0f89cf19-63ef-4309-9135-6644c3bace63)

* Downgrade.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3870a664-dfcd-46b0-802a-0f45ed14245b)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3c8af220-bd00-4a3b-884b-0b661c2451ec)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8283dc64-36e0-4ed5-85a1-43cbc1c90b74)

* Rules to **acquiring the lock**:-

### Locking protocols

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/51b19253-5d92-4124-b008-f0d30216c7c5)

* 2-phase locking protocol(2PL)

1) Basic 2PL
2) Strict 2PL
3) Rigorous 2PL
4) Conservative 2PL

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f82f36a5-0539-41ab-95ef-e69fad894a1e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6bf87ed7-5873-4f8d-9d54-dcb26c3dcc34)

* Basic 2-phase locking protocol

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/200ca247-cfc7-4828-84e2-bda4d37d3d03)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a3071972-178b-49f7-b446-0d69e2b7a918)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3cdf18b8-4030-42d0-a971-4171f791aa50)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/801252dc-adc7-46ba-aa26-b94e7e7ef5b5)

* **Correct** according to **basic 2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/61f4371d-1b8d-473a-8539-c8c5bf075155)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/33390eb1-f746-47c6-a262-4af08e1d0e9d)

* **lock(z)** not allowed after **unlock**.
* We can take **locks** at anytime but after **unlock** we cannot take **any locks**. This is the **only condition**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/49f3a364-c9f9-4c6e-8cf4-dfe78a2bc0b1)

* **Correct** according to **basic 2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/679edca6-8b1f-41ad-bf44-3104d961ba70)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5a990ca8-2343-413c-b4a8-f5d274bf7844)

* **Upgrade** happens within the **same transaction**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d0d4f80a-c831-4690-a4ec-80c26c18cf15)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b1979a7f-2749-4861-bb90-fc396918abeb)

* The **given schedule** didn't run as it is because of **basic 2PL**, the style of the run has been changed.
* So, we will say that the **given schedule** is not allowed under **2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d8c4d829-e031-4a94-90a8-b30434b7eb97)

* Given schedule is not allowed ubder basic 2PL because it does not run same as given.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ac56739c-d471-49c7-86e5-8873cc9e42b3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1493af6c-f27c-4f1d-b86f-f49cf13ffb88)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e2dff856-f1e2-47b0-9285-1dea585eae6a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/400effd1-36cd-4a70-890e-9e54d4e285c5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3500d7c0-1897-493e-8cd6-7ba0a370b630)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19607c40-8a8a-4648-9fc3-81a36d9cc567)

* Every schedule which is allowed under basic 2PL, is conflict serializable also.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/fecdfb39-7e68-4ef6-9891-243a371fe3a5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8f5bf23c-e817-4a78-a4a4-7a28eb035451)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/76a9eaee-e139-4652-a9b6-065f1483b7a3)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f0b53a5c-997e-4f0b-9532-4c5bb357494d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/625f071e-c843-41d6-a245-79bccde4a195)

* Not serializable.

## Basic 2 Phase Locking Protocol

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/279246e3-865c-428e-b0b2-83b86661f87c)

* Whenever needed **write 'lock** and once we have **written 'unlock'** then we cannot **write 'lock'** again.
* We will acquire all the locks at the start and when we start releasing the locks then we will only release the locks and nothing else, we cannot take anymore **locks** after an **unlock** is done.

* After **unlock**, we cannot take any **locks**. It is for **any data-item**.
* Take all of the **locks possible** at once and when we started **unlocking** then we will only do **unlocking**, no more taking **locks**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a6bc3935-47e5-4453-9fde-eee99fc96396)

* Once we start **unlocks**, we cannot do **any locks** on **any data-items**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d56e8aa1-a304-4bb1-8aa7-2af50ad326ee)

* This is why it is called as **2 phase locking protocol**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d139252-3b01-41b9-90c0-f9fe365a1acb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/cae0086c-256c-4936-8f13-1258bc4e5341)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/79c1525b-7a9e-4c34-8bbc-d8c232746e17)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d2b2d249-9325-4801-9195-1f666652f57e)

* If we did **unlock(X)** before **W(Y)** then also it would be **correct according to Basic 2PL** because we are not accessing **X** anymore after that. So no problem. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c712ebb4-d96e-4e96-b3ba-351c99d6a78a)

* **lock(Z)** is not allowed after **unlock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6ee226c3-bb5b-4b7c-9152-58f9312ababe)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/422b4317-00d5-4cfa-9405-0bb4162c873d)

* This will work **no problem**. **T2** will run after **T1** has unlocked **X**.
* **T2** was put in **blocked state**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/98341497-322e-45c7-8e83-b8218176fe36)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/91fe47db-2c5c-4eeb-99af-7da3c079d3ae)

* **Upgrade** happens within the **same transaction**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1b442ad2-c8c5-42cb-ae3f-bd523fef64d6)

* In the **given schedule**, when we applied **basic 2PL protocol**, the schedule didn't **run as it is**. It run like **below(Run actually like**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dad83f03-0f32-4a6e-962f-464a9f35e9bc)

* In the **given schedule**, it didn't **run as it is** because when we applied **basic 2PL protocol**, the style of it's run **is changed**, then we will say that the **given schedule** is not allowed under **basic 2PL protocol**

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f81f80ea-67ff-466f-bf20-cc2089741cf8)

* Given schedule is not allowed under basic 2PL because it does not run same as given.
* The **sequence of run** was **changed** due to application of **basic 2PL protocol**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/3d45d276-90db-49d7-9af4-e5045084b7e0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/281c92f3-5ea8-4d35-a5ea-81ca25a600fd)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eff14e35-1bae-4b60-b252-9792bd29527a)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e9c13ee2-34df-4508-9e2d-4c19dfc9f1a4)

* Not Allowed under **2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/32c3099d-8ac1-4587-a514-a4c00987b6ab)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/81b2c825-ffed-4c94-bbfe-d3f653c1e26a)

* In **one transaction**, we cannot take **lock** after an **unlock**. [**IMPORTANT**]
* But we can take **lock** in the **other transaction** though.
* We **unlock(X)** in **T1** and we did **lock_Ex(X)** which was in **T2** transaction. So we are taking **lock** after an **unlock(X)** but in a **different transaction(T2)**, so **no problem** here.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9d8b2e2e-500c-4284-b33d-68d1e6b933a6)

* **Unlock** keh badh **lock** cannot happen in the **same/single transaction**. **Single transaction** will not do that.
* It is **possible** in **different transactions**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d58883a9-3767-4a80-ad7a-798f6aa81dc5)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b112fba0-f3f2-44f9-bd72-32bb13c174d0)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a19bfb78-f0af-4130-8a15-cff2b10fc250)

* Question.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/913744fd-b5a6-45e0-b33a-c7d3a8891bc0)

* Allowed under **2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5e521c63-bc6a-4eb7-a777-1c41cff278fb)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5450f5e5-db19-4222-b745-6b7d64e478c1)

* Every schedule which is allowed under **basic 2PL**, is **conflict serializable** also.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ad4c39dd-cfaf-4d21-9d93-25e4d3ba32bc)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/44c085a6-d7cb-4b76-9019-6c86bf9f618c)

## transaction-concurrency-control-part-v (27) [1st Aug 2023]

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d14cb68c-ca84-4255-a623-ae941bda355d)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5d5b36f4-11bf-4fde-a955-a15505a69b43)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/dfbcc483-5789-4476-b8f9-47fe4cf4e82a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0267cf45-85c2-43eb-bee1-d13498705e17)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1a63ac1f-af46-423c-b4d3-b6745d9f5d76)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c429e055-6808-4093-b785-5ea266827349)

* Won't be allowed under **Basic 2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/9ae31491-7c8d-43e4-8c38-6d341fdd6d8c)

* Not allowed in **Basic 2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/eb500419-7725-4dd5-b9fb-958b2f09c300)

* We will run **unlock(X) and unlock(Y)** at **10:15AM** so that we can do **lock(Y)** in **T3**. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/030b18c2-9de7-48ea-8d0f-c0e60e3ef77c)

* Not allowed in **Basic 2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6d78ea22-6de6-4b9b-891d-0c78795d4007)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4d1ccfa7-b8a4-4444-8e69-fb2be3e250ed)

* Won't be allowed under **basic 2PL**.
* **T1's released lock** can be used by **T2**, **YES**.
* **T2's released lock** can be used by **T3**, **YES**.
* **T3's released lock** can be used by **T1**, **NO**, it is not possible.
* It is because when **T3 releases it's lock**, then **T1** cannot take **lock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/19989d43-aa7a-4fea-92c4-f7a12d68ebaf)

* Yes.
* The lock **T1** has taken on and **T2** wants to use that then after **T1's unlock**, **T2** can use it.
* After **T2's unlock***, **T3** can use it.
* **T3's released lock** cannot be used by **T1 and T2** because we cannot do **locking later** after **unlock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/11f29fdf-4f87-4201-8908-08b0470fd970)

* So there is **no chance of 'cycle'** when we apply **basic 2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/69b35491-3c33-4b5d-9833-7c52f3c6d2fa)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ae88f4b4-f0a3-40d3-bae5-432169fdcd9a)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/231eb04b-ea3f-48e7-9180-326d12b81a78)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/538e1122-82f6-44f0-a550-dead04905ebf)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f77667b6-b6a7-49df-a6d1-adde4729946d)

* Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/09135e9b-1c78-4d7f-ae74-193f38d66375)

* **lock(Z)** in **T3** is **not working** because there is already a **lock(Z)** in **T1**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/0295e2cf-3be2-4e45-b386-b6ce919764c8)

* We are talking about **conflicting locks**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e6145819-074a-4eb1-a0a2-0e8a0a86008e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2406ecc4-d31d-49ea-8cd7-e980dea177fe)

* There is **no cycle** of **conflict** and as there is **no cycle**, so it is **conflict serializable**.
* If allowed in **basic 2PL** then it is  **conflict serializable** as well. 

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/bab06c38-97c5-48da-94d0-0cd479c34f28)

* Yes.
* We cannot implement **conflict serializability** practically.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b3988416-34b7-4813-bf39-4bef57d9c9b8)

* Question
* Not allowed under **2PL**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/a9802808-2240-4134-8b3e-368231fe1c8e)

* **Deadlock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/edd0fced-2820-4bc7-8eba-8d6cd6e38b11)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/751e4dae-d62e-4bec-8021-f3da50d8d097)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/ccdb7dc6-22a6-4bc8-a309-b212fcb0d653)

* Starvation -> Indefinite waiting.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/2b86cfc8-9d9e-4e4c-bc54-3b54878bb423)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/4414b212-4e4d-47d6-b3a2-70cbaa73a777)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/5619bc8b-2ece-4c74-be31-832eebbeb7b6)

* **Strict schedule**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/d64725d2-8467-4558-a925-62d57c53cf03)

* **Strict 2PL** says to follow **Strict schedule**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/968cb692-a6f6-46ba-981a-920e7959cbd6)

* **Commit** is **important** here.
* If the **upper one** has done **write operation** then we will do **commit** of it and after that only the **lower one** can do **either read or write** operation.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8afb425c-4592-46d3-aae7-f3a1f30cc339)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/84a4d206-4c7a-4e88-a84a-cbf6ffcc3374)

* After **every write** operation, there should be a **commit**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/e56d23b6-d457-4458-b840-4b58e52afc65)

 * Yes.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f624a352-d2bb-457c-98c7-b5249265bbb9)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/84752c85-76e3-481a-8564-d80de730c5f5)

* Strict 2PL.
* Exclusive lock should not be release until **commit**.
* At the **end of the transaction** when the **commit is do** then we will release the **exclusive lock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b0d85e98-379b-4b03-9391-d9688e9b8a27)

* **Strict and basic** 2PL are **different**.
* **Before commit**, we cannot **unlock the exclusive lock**.

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/f548c1f3-d0fe-41d3-b0cd-bccf41509da7)























## Misplaced Images

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/8c85c2c6-4175-4f9d-afec-62497852924e)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/1f0dd0f2-0158-4b53-8fef-40f439e627ee)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/c22ab88f-5e8d-4d32-bf6a-4f9f85cab65a)

# Joke

![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/b8200b49-d63d-4027-88d0-29f087bc60e1)
![image](https://github.com/arghanath007/Data-Structure-and-Algorithms/assets/54589605/6161e033-2e30-465d-bd81-3b7e20c4a1db)

